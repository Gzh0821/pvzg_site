import{a as x}from"./index-DW_MHI2K.js";import{T as N,z as R,A as H,_ as c,B as M,C as U,D as P,E as X,G as T,H as E,m as O,j as V,u as G,k as Q,q,I as j,c as z,o as k,h as w,b as l,g as L,r as _,a as F,t as C,d as A,F as J}from"./app-CtlcwOkz.js";import{_ as Z}from"./plugin-vue_export-helper-DlAUqK2U.js";const p=(n,e)=>new N(n).setAlpha(e).toRgbString(),S=(n,e)=>new N(n).lighten(e).toHexString(),W=n=>{const e=R(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},Y=(n,e)=>{const o=n||"#000",t=e||"#fff";return{colorBgBase:o,colorTextBase:t,colorText:p(t,.85),colorTextSecondary:p(t,.65),colorTextTertiary:p(t,.45),colorTextQuaternary:p(t,.25),colorFill:p(t,.18),colorFillSecondary:p(t,.12),colorFillTertiary:p(t,.08),colorFillQuaternary:p(t,.04),colorBgElevated:S(o,12),colorBgContainer:S(o,8),colorBgLayout:S(o,0),colorBgSpotlight:S(o,26),colorBorder:S(o,26),colorBorderSecondary:S(o,19)}},K=(n,e)=>{const o=Object.keys(H).map(r=>{const d=R(n[r],{theme:"dark"});return new Array(10).fill(1).reduce((f,h,v)=>(f[`${r}-${v+1}`]=d[v],f),{})}).reduce((r,d)=>(r=c(c({},r),d),r),{}),t=e??M(n);return c(c(c({},t),o),U(n,{generateColorPalettes:W,generateNeutralColorPalettes:Y}))};function ee(n){const{sizeUnit:e,sizeStep:o}=n,t=o-2;return{sizeXXL:e*(t+10),sizeXL:e*(t+6),sizeLG:e*(t+2),sizeMD:e*(t+2),sizeMS:e*(t+1),size:e*t,sizeSM:e*t,sizeXS:e*(t-1),sizeXXS:e*(t-1)}}const te=(n,e)=>{const o=e??M(n),t=o.fontSizeSM,r=o.controlHeight-4;return c(c(c(c(c({},o),ee(e??n)),P(t)),{controlHeight:r}),X(c(c({},o),{controlHeight:r})))};function oe(){const[n,e,o]=E();return{theme:n,token:e,hashId:o}}const ne={defaultConfig:T,defaultSeed:T.token,useToken:oe,defaultAlgorithm:M,darkAlgorithm:K,compactAlgorithm:te},ae=O({__name:"App",props:{authorGroup:{}},setup(n,{expose:e}){e();const o=n,t=V([]),r=q("i18nLanguage","en"),d=V(""),f=async i=>{try{const a=(await x.get("https://levelapi.pvzge.com/links.json")).data[i];for(const y in a){const u=a[y].location,B=(await x.get(`https://levelapi.pvzge.com${u}`)).data,D=B.authorInfo,$=B.author;B.levelList.forEach(g=>{if(typeof g=="string")t.value.push({name:g,author:$,introduction:D,url:`https://levelapi.pvzge.com/${i}/${y}/levels/${g}`});else if(g.fileName&&g.Information){const s=g.Information;t.value.push({name:typeof s.name=="string"?s.name:s.name[r]??s.name.en,introduction:typeof s.Introduction=="string"?s.Introduction:s.Introduction[r]??s.Introduction.en,author:$,gameVersion:s.GameVersion,version:s.Version,createdAt:s.CreatedAt,updatedAt:s.UpdatedAt,difficulty:s.Difficulty,category:s.Category,url:`https://levelapi.pvzge.com/${i}/${y}/levels/${g.fileName}`})}})}}catch(m){j.error("Failed to load levels: "+m.message)}},h=async i=>{try{const a=(await x.get(i.url)).data,y=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),u=document.createElement("a");u.href=URL.createObjectURL(y),u.setAttribute("download",i.name),document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(u.href)}catch(m){j.error("Failed to download level: "+m.message)}},v={pageSize:6},I=G(()=>t.value.filter(i=>i.name.toLowerCase().includes(d.value.toLowerCase())||i.author.toLowerCase().includes(d.value.toLowerCase())));Q(()=>{f(o.authorGroup)});const b={props:o,levels:t,i18nLanguage:r,searchValue:d,fetchLevels:f,downloadLevel:h,pagination:v,filteredLevels:I,get theme(){return ne}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),re={key:0},se={key:1},ce={key:2},ie={key:3},le=["onClick"],de={class:"author-name"};function ue(n,e,o,t,r,d){const f=_("a-input-search"),h=_("HopeIcon"),v=_("a-list-item-meta"),I=_("a-list-item"),b=_("a-list"),i=_("a-space"),m=_("a-config-provider");return k(),z(J,null,[w(` <a-row :gutter="[16, 24]">
        <a-col :span="8" v-for="level in paginatedLevels" :key="level.name">
            <a-card :title="level.name" @click="downloadLevel(level)" hoverable>
                <p v-if="level.author">Author: {{ level.author }}</p>
                <p v-if="level.introduction">Introduction: {{ level.introduction }}</p>
            </a-card>
        </a-col>
    </a-row>
 `),l(m,{theme:{algorithm:n.$isDarkmode?t.theme.darkAlgorithm:t.theme.defaultAlgorithm}},{default:L(()=>[l(i,{direction:"vertical",size:"middle",style:{width:"100%"},theme:"dark"},{default:L(()=>[l(f,{value:t.searchValue,"onUpdate:value":e[0]||(e[0]=a=>t.searchValue=a),valueModifiers:{lazy:!0},placeholder:"Search level...","enter-button":""},null,8,["value"]),l(b,{"item-layout":"vertical","data-source":t.filteredLevels,size:"middle",header:"PvZ2 Gardendless Levels",pagination:t.pagination,bordered:""},{renderItem:L(({item:a})=>[l(I,null,{actions:L(()=>[a.version?(k(),z("span",re,[l(h,{icon:"code-branch"}),A(" "+C(a.version),1)])):w("v-if",!0),a.difficulty?(k(),z("span",se,[l(h,{icon:"fire"}),A(" "+C(a.difficulty),1)])):w("v-if",!0),a.category?(k(),z("span",ce,[l(h,{icon:"tag"}),A(" "+C(a.category),1)])):w("v-if",!0),a.updatedAt?(k(),z("span",ie,[l(h,{icon:"clock"}),A(" "+C(a.updatedAt),1)])):w("v-if",!0)]),default:L(()=>[l(v,{description:a.introduction},{title:L(()=>[F("a",{onClick:y=>t.downloadLevel(a)},C(a.name),9,le),F("span",de," by "+C(a.author),1)]),_:2},1032,["description"])]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1},8,["theme"])],2112)}const ge=Z(ae,[["render",ue],["__scopeId","data-v-71ff919b"],["__file","App.vue"]]);export{ge as L};
