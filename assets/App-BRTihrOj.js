import{v as N,n as y,r as F,e as o,o as i,l as p,f as t,F as g,m as k,g as A,k as w,x as B,t as m,y as D,h as M,z as E,A as O,B as V,D as I}from"./app-DYcn4whb.js";import{u as W}from"./useDarkMode-BJ_OkP7K.js";import{_ as x}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as K,p as G,i as j}from"./formatPlants-i0VKITDM.js";const Z=N({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(u,{expose:s,emit:a}){s();const e=u,d=W(),_=a,n=y({}),f={props:e,isDarkMode:d,emits:_,visible:n,selectPlant:(l,c=void 0)=>{c&&(n.value[c.codename]=!1),_("selectPlant",l)}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),J=["onClick"],R=["src","alt"],U=["src","alt"],q=["src","alt"];function H(u,s,a,e,d,_){const n=F("a-col"),r=F("a-row"),f=F("a-popover");return i(),o(g,null,[p(' <div class="plant-catalog"> '),p(" <h2>植物列表</h2> "),t("ul",null,[(i(!0),o(g,null,k(a.plants,l=>(i(),o("li",{key:l.id,onClick:c=>e.selectPlant(l)},[p(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                :alt="plant.name"> `),p(` <div class="plant-image-frame">
                <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                    :alt="plant.name">
                <img class="frame-img" :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                    :alt="plant.frameWorld">
            </div> `),l.subPlants?(i(),o(g,{key:0},[A(f,{"arrow-point-at-center":"",trigger:"hover",open:e.visible[l.codename],onVisibleChange:c=>e.visible[l.codename]=c,overlayInnerStyle:{border:e.isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:e.isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:w(()=>[A(r,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:w(()=>[(i(!0),o(g,null,k(l.subPlants.map(c=>a.plantMap[c]),c=>(i(),B(n,{key:c.id,onClick:v=>e.selectPlant(c,l)},{default:w(()=>[t("img",{src:"/assets/image/plants/plants_"+c.codename+"_c.webp",alt:l.name},null,8,R),t("p",null,m(c.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:w(()=>[t("img",{src:"/assets/image/plants/plants_"+l.codename+"_c.webp",alt:l.name},null,8,U)]),_:2},1032,["open","onVisibleChange","overlayInnerStyle"]),t("p",null,m(l.name),1)],64)):(i(),o(g,{key:1},[t("img",{src:"/assets/image/plants/plants_"+l.codename+"_c.webp",alt:l.name},null,8,q),t("p",null,m(l.name),1)],64))],8,J))),128))]),p(" </div> ")],2112)}const Q=x(Z,[["render",H],["__scopeId","data-v-32bc0b92"],["__file","PlantCatalog.vue"]]),X=N({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(u,{expose:s}){s();const a=u,e=D("i18nLanguage","zh"),d={props:a,i18nLanguage:e};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),Y={key:0,class:"plant-detail"},$={class:"details-container"},ee={class:"plant-image"},te=["src","alt"],ae={class:"plant-title"},ne=["src","alt"],se={class:"plant-stats"},le={class:"ability"},ie=["src"],oe={class:"value"},ce={class:"details-container"},re={class:"plant-introduction"},de={class:"description"},_e={class:"descriptionKey"},pe={class:"description"},me={class:"details-container"},ue={class:"plant-introduction"},fe={class:"description"},ge={class:"descriptionKey"},ve={class:"description"},he={class:"descriptionKey"};function ye(u,s,a,e,d,_){return a.plant?(i(),o("div",Y,[t("div",$,[t("div",ee,[p(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),p(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),t("img",{src:"/assets/image/plants/plants_"+a.plant.codename+"_c.webp",alt:a.plant.name},null,8,te),t("p",ae,m(a.plant.name),1),a.plant.enFamily?(i(),o("img",{key:0,src:"/assets/wikicon/"+a.plant.enFamily+"_familyicon.webp",alt:a.plant.enFamily,class:"family-img"},null,8,ne)):p("v-if",!0)]),t("div",se,[t("table",null,[t("tbody",null,[(i(!0),o(g,null,k(a.plant.elements,(n,r)=>(i(),o("tr",{key:r},[t("td",le,[t("img",{src:a.keyMap[r].icon},null,8,ie),M(" "+m(a.keyMap[r][e.i18nLanguage]),1)]),t("td",oe,m(n),1)]))),128)),p(` <tr key="CodeName">
                            <td class="ability"> CodeName </td>
                            <td class="value">{{ plant.codename }}</td>
                        </tr> `)])])])]),t("div",ce,[t("div",re,[t("p",de,m(a.plant.description),1),s[0]||(s[0]=t("br",null,null,-1)),(i(!0),o(g,null,k(a.plant.special,n=>(i(),o("p",{key:n.NAME[e.i18nLanguage],class:"description"},[M(m(n.NAME[e.i18nLanguage])+": ",1),t("span",_e,m(n.DESCRIPTION[e.i18nLanguage]),1)]))),128)),s[1]||(s[1]=t("br",null,null,-1)),t("p",pe,m(a.plant.chat),1)])]),t("div",me,[t("div",ue,[t("p",fe,[s[2]||(s[2]=M("Codename: ")),t("span",ge,m(a.plant.codename),1)]),t("p",ve,[s[3]||(s[3]=M("PlantID: ")),t("span",he,m(a.plant.id),1)]),p(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):p("v-if",!0)}const be=x(X,[["render",ye],["__scopeId","data-v-7f0d6d10"],["__file","PlantDetail.vue"]]),Pe=N({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(u,{expose:s,emit:a}){s();const e=u,d=a,_=y(""),n=y(""),r=D("i18nLanguage","zh"),f=b=>(n.value=n.value==b?"":b,l()),l=()=>{d("filterPlants",{name:_.value,family:n.value})},c=E(()=>r==="zh"?"输入植物名称或id":"Enter plant name or id"),v={props:e,emits:d,searchTerm:_,selectedAttribute:n,i18nLanguage:r,selectAttribute:f,handleFilter:l,placeholder:c};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),ke={class:"plant-filter"},Ce={class:"search-input-group"},we=["placeholder"],Me={class:"filter-family-group"},Ae=["onClick"],Ne=["src","alt"];function xe(u,s,a,e,d,_){return i(),o("div",ke,[t("div",Ce,[s[1]||(s[1]=t("label",{for:"plant-search"},"Search:",-1)),O(t("input",{id:"plant-search",type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>e.searchTerm=n),placeholder:e.placeholder,onInput:e.handleFilter},null,40,we),[[V,e.searchTerm]]),p(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),t("div",Me,[p(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(i(!0),o(g,null,k(a.familyNameMap,n=>(i(),o("div",{class:I(["filter-family-option",{selected:e.selectedAttribute===n.en}]),onClick:r=>e.selectAttribute(n.en)},[t("img",{src:"/assets/wikicon/"+n.en+"_familyicon.webp",alt:n.en,class:I(n.en===e.selectedAttribute?"selected":"")},null,10,Ne)],10,Ae))),256))])])}const Le=x(Pe,[["render",xe],["__scopeId","data-v-8093ae1d"],["__file","PlantFilter.vue"]]),Fe=N({__name:"App",setup(u,{expose:s}){var b,S;s();const a=(b=j)==null?void 0:b.Almanac,e=(S=j)==null?void 0:S.PlantFamily,d=D("i18nLanguage","zh"),_=y([]),n=K(d),r=y([]),f=y(null),l=P=>{f.value=P},c=P=>{const{name:C,family:L}=P;r.value=_.value.filter(h=>{const T=h.id.toString()==C||h.name.toLowerCase().includes(C.toLowerCase())||h.enName.toLowerCase().includes(C.toLowerCase())||h.codename.toLowerCase().includes(C.toLowerCase()),z=L==""||h.enFamily==L||L=="None"&&h.enFamily=="";return T&&z})};_.value=G.map(P=>n[P]),r.value=_.value,l(r.value[0]);const v={keyMap:a,familyNameMap:e,i18nLanguage:d,plants:_,plantMap:n,filteredPlants:r,selectedPlant:f,selectPlant:l,filterPlants:c,PlantCatalog:Q,PlantDetail:be,PlantFilter:Le};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),De={class:"app"},Se={class:"container"},Ie={class:"filter"},je={key:0},Be={key:1},Te={class:"container"},ze={class:"sidebar"},Ee={class:"content"};function Oe(u,s,a,e,d,_){return i(),o("div",De,[t("div",Se,[t("div",Ie,[e.i18nLanguage=="zh"?(i(),o("h1",je,"PvZ2 Gardendless 植物图鉴")):(i(),o("h1",Be,"PvZ2 Gardendless Plants Almanac")),A(e.PlantFilter,{onFilterPlants:e.filterPlants,familyNameMap:e.familyNameMap},null,8,["familyNameMap"])])]),t("div",Te,[t("div",ze,[A(e.PlantCatalog,{plants:e.filteredPlants,onSelectPlant:e.selectPlant,plantMap:e.plantMap},null,8,["plants","plantMap"])]),t("div",Ee,[e.selectedPlant?(i(),B(e.PlantDetail,{key:0,keyMap:e.keyMap,plant:e.selectedPlant},null,8,["keyMap","plant"])):p("v-if",!0)])])])}const Ze=x(Fe,[["render",Oe],["__scopeId","data-v-c97c8dd3"],["__file","App.vue"]]);export{Ze as A};
