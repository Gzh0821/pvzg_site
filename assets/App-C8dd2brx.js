import{k as P,f as k,r as F,c as i,o as l,F as g,b as e,h as m,i as $,d as M,w,l as E,t as r,m as I,e as b,u as _,n as T,q as j,v as B,s as D}from"./app-CNCNo8Re.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as K,p as V,i as O}from"./formatPlants-Dl4RvxxO.js";const W=["onClick"],G=["src","alt"],R=["src","alt"],Z=["src","alt"],q=P({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(A,{emit:p}){const t=p,s=k({}),o=(c,d=void 0)=>{d&&(s.value[d.codename]=!1),t("selectPlant",c)};return(c,d)=>{const u=F("a-col"),f=F("a-row"),v=F("a-popover");return l(),i(g,null,[e("ul",null,[(l(!0),i(g,null,$(c.plants,a=>(l(),i("li",{key:a.id,onClick:n=>o(a)},[a.subPlants?(l(),i(g,{key:0},[M(v,{"arrow-point-at-center":"",trigger:"hover",open:s.value[a.codename],onOpenChange:n=>s.value[a.codename]=n,overlayInnerStyle:{border:c.$isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:c.$isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:w(()=>[M(f,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:w(()=>[(l(!0),i(g,null,$(a.subPlants.map(n=>c.plantMap[n]),n=>(l(),E(u,{key:n.id,onClick:h=>o(n,a)},{default:w(()=>[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,G),e("p",null,r(n.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:w(()=>[e("img",{src:"/assets/image/plants/plants_"+a.codename+"_c.webp",alt:a.name},null,8,R)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,r(a.name),1)],64)):(l(),i(g,{key:1},[e("img",{src:"/assets/image/plants/plants_"+a.codename+"_c.webp",alt:a.name},null,8,Z),e("p",null,r(a.name),1)],64))],8,W))),128))]),m(" </div> ")],2112)}}}),J=N(q,[["__scopeId","data-v-03f713b1"]]),U={key:0,class:"plant-detail"},H={class:"details-container"},Q={class:"plant-image"},X=["src","alt"],Y={class:"plant-title"},x=["src","alt"],ee={class:"plant-stats"},te={class:"ability"},se=["src","alt"],ae={class:"value"},ne={class:"details-container"},le={class:"plant-introduction"},oe={class:"description"},ie={class:"descriptionKey"},ce={class:"description"},re={class:"details-container"},pe={class:"plant-introduction"},de={class:"description"},me={class:"descriptionKey"},_e={class:"description"},ue={class:"descriptionKey"},ve={class:"description"},he={class:"descriptionKey"},ge={class:"description"},fe={class:"descriptionKey"},ye=P({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(A){const p=I("i18nLanguage","zh");return(t,s)=>t.plant?(l(),i("div",U,[e("div",H,[e("div",Q,[m(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),m(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,X),e("p",Y,r(t.plant.name),1),t.plant.enFamily?(l(),i("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,x)):m("v-if",!0)]),e("div",ee,[e("table",null,[e("tbody",null,[(l(!0),i(g,null,$(t.plant.elements,(o,c)=>(l(),i("tr",{key:c},[e("td",te,[e("img",{src:t.keyMap[c].icon,alt:t.keyMap[c][_(p)]},null,8,se),b(" "+r(t.keyMap[c][_(p)]),1)]),e("td",ae,r(o),1)]))),128)),m(` <tr key="CodeName">
                        <td class="ability"> CodeName </td>
                        <td class="value">{{ plant.codename }}</td>
                    </tr> `)])])])]),e("div",ne,[e("div",le,[e("p",oe,r(t.plant.description),1),s[0]||(s[0]=e("br",null,null,-1)),(l(!0),i(g,null,$(t.plant.special,o=>(l(),i("p",{key:o.NAME[_(p)],class:"description"},[b(r(o.NAME[_(p)])+": ",1),e("span",ie,r(o.DESCRIPTION[_(p)]),1)]))),128)),s[1]||(s[1]=e("br",null,null,-1)),e("p",ce,r(t.plant.chat),1)])]),e("div",re,[e("div",pe,[e("p",de,[s[2]||(s[2]=b("CODENAME: ")),e("span",me,r(t.plant.codename),1)]),e("p",_e,[s[3]||(s[3]=b("ID: ")),e("span",ue,r(t.plant.id),1)]),e("p",ve,[s[4]||(s[4]=b("OBTAINWORLD: ")),e("span",he,r(t.plant.obtainWorld),1)]),e("p",ge,[s[5]||(s[5]=b("Properties: ")),e("span",fe,r(t.plant.objdata),1)]),m(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):m("v-if",!0)}}),be=N(ye,[["__scopeId","data-v-e0406d7f"]]),ke={class:"plant-filter"},Ce={class:"search-input-group"},$e=["placeholder"],we={class:"filter-family-group"},Me=["onClick"],Pe=["src","alt"],Ne=P({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(A,{emit:p}){const t=p,s=k(""),o=k(""),c=I("i18nLanguage","zh"),d=v=>(o.value=o.value==v?"":v,u()),u=()=>{t("filterPlants",{name:s.value,family:o.value})},f=T(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id");return(v,a)=>(l(),i("div",ke,[e("div",Ce,[a[1]||(a[1]=e("label",{for:"plant-search"},"Search:",-1)),j(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>s.value=n),placeholder:f.value,onInput:u},null,40,$e),[[B,s.value]]),m(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",we,[m(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(l(!0),i(g,null,$(v.familyNameMap,n=>(l(),i("div",{class:D(["filter-family-option",{selected:o.value===n.en}]),onClick:h=>d(n.en)},[e("img",{src:"/assets/wikicon/"+n.en+"_familyicon.webp",alt:n.en,class:D(n.en===o.value?"selected":"")},null,10,Pe)],10,Me))),256))])]))}}),Ae=N(Ne,[["__scopeId","data-v-69675d85"]]),Le={class:"app"},Fe={class:"container"},Ie={class:"filter"},De={key:0},Oe={key:1},Ee={class:"container"},Se={class:"sidebar"},ze={class:"content"},Te=P({__name:"App",setup(A){var a,n;const p=(a=O)==null?void 0:a.Almanac,t=(n=O)==null?void 0:n.PlantFamily,s=I("i18nLanguage","zh"),o=k([]),c=K(s),d=k([]),u=k(null),f=h=>{u.value=h},v=h=>{const{name:C,family:L}=h;d.value=o.value.filter(y=>{const S=y.id.toString()==C||y.name.toLowerCase().includes(C.toLowerCase())||y.enName.toLowerCase().includes(C.toLowerCase())||y.codename.toLowerCase().includes(C.toLowerCase()),z=L==""||y.enFamily==L||L=="None"&&y.enFamily=="";return S&&z})};return o.value=V.map(h=>c[h]),d.value=o.value,f(d.value[0]),(h,C)=>(l(),i("div",Le,[e("div",Fe,[e("div",Ie,[_(s)=="zh"?(l(),i("h1",De,"PvZ2 Gardendless 植物图鉴")):(l(),i("h1",Oe,"PvZ2 Gardendless Plants Almanac")),M(Ae,{onFilterPlants:v,familyNameMap:_(t)},null,8,["familyNameMap"])])]),e("div",Ee,[e("div",Se,[M(J,{plants:d.value,onSelectPlant:f,plantMap:_(c)},null,8,["plants","plantMap"])]),e("div",ze,[u.value?(l(),E(be,{key:0,keyMap:_(p),plant:u.value},null,8,["keyMap","plant"])):m("v-if",!0)])])]))}}),Ve=N(Te,[["__scopeId","data-v-4f9537be"]]);export{Ve as A};
