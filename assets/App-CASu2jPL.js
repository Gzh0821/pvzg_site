import{a as x}from"./index-C88pvD_q.js";import{T as N,z as R,A as H,_ as c,B as M,C as U,D as P,E as X,G as T,H as E,m as O,j as V,u as G,k as Q,q,I as j,c as z,o as k,h as w,b as l,g as L,r as v,a as F,t as C,d as A,F as J}from"./app-CsSA5-3j.js";import{_ as Z}from"./plugin-vue_export-helper-DlAUqK2U.js";const p=(n,e)=>new N(n).setAlpha(e).toRgbString(),S=(n,e)=>new N(n).lighten(e).toHexString(),W=n=>{const e=R(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},Y=(n,e)=>{const t=n||"#000",o=e||"#fff";return{colorBgBase:t,colorTextBase:o,colorText:p(o,.85),colorTextSecondary:p(o,.65),colorTextTertiary:p(o,.45),colorTextQuaternary:p(o,.25),colorFill:p(o,.18),colorFillSecondary:p(o,.12),colorFillTertiary:p(o,.08),colorFillQuaternary:p(o,.04),colorBgElevated:S(t,12),colorBgContainer:S(t,8),colorBgLayout:S(t,0),colorBgSpotlight:S(t,26),colorBorder:S(t,26),colorBorderSecondary:S(t,19)}},K=(n,e)=>{const t=Object.keys(H).map(r=>{const d=R(n[r],{theme:"dark"});return new Array(10).fill(1).reduce((h,f,_)=>(h[`${r}-${_+1}`]=d[_],h),{})}).reduce((r,d)=>(r=c(c({},r),d),r),{}),o=e??M(n);return c(c(c({},o),t),U(n,{generateColorPalettes:W,generateNeutralColorPalettes:Y}))};function ee(n){const{sizeUnit:e,sizeStep:t}=n,o=t-2;return{sizeXXL:e*(o+10),sizeXL:e*(o+6),sizeLG:e*(o+2),sizeMD:e*(o+2),sizeMS:e*(o+1),size:e*o,sizeSM:e*o,sizeXS:e*(o-1),sizeXXS:e*(o-1)}}const oe=(n,e)=>{const t=e??M(n),o=t.fontSizeSM,r=t.controlHeight-4;return c(c(c(c(c({},t),ee(e??n)),P(o)),{controlHeight:r}),X(c(c({},t),{controlHeight:r})))};function te(){const[n,e,t]=E();return{theme:n,token:e,hashId:t}}const ne={defaultConfig:T,defaultSeed:T.token,useToken:te,defaultAlgorithm:M,darkAlgorithm:K,compactAlgorithm:oe},ae=O({__name:"App",props:{authorGroup:{}},setup(n,{expose:e}){e();const t=n,o=V([]),r=q("i18nLanguage","en"),d=V(""),h=async i=>{try{const a=(await x.get("https://levelapi.pvzge.com/links.json")).data[i];for(const y in a){const u=a[y].location,B=(await x.get(`https://levelapi.pvzge.com${u}`)).data,D=B.authorInfo,$=B.author;B.levelList.forEach(g=>{if(typeof g=="string")o.value.push({name:g,author:$,introduction:D,url:`https://levelapi.pvzge.com/${i}/${y}/levels/${g}`});else if(g.fileName&&g.Information){const s=g.Information;o.value.push({name:typeof s.name=="string"?s.name:s.name[r]??s.name.en,introduction:typeof s.Introduction=="string"?s.Introduction:s.Introduction[r]??s.Introduction.en,author:$,gameVersion:s.GameVersion,version:s.Version,createdAt:s.CreatedAt,updatedAt:s.UpdatedAt,difficulty:s.Difficulty,category:s.Category,url:`https://levelapi.pvzge.com/${i}/${y}/levels/${g.fileName}`})}})}}catch(m){j.error("Failed to load levels: "+m.message)}},f=async i=>{try{const a=(await x.get(i.url)).data,y=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),u=document.createElement("a");u.href=URL.createObjectURL(y),u.setAttribute("download",i.name),document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(u.href)}catch(m){j.error("Failed to download level: "+m.message)}},_={pageSize:6},I=G(()=>o.value.filter(i=>i.name.toLowerCase().includes(d.value.toLowerCase())||i.author.toLowerCase().includes(d.value.toLowerCase())));Q(()=>{h(t.authorGroup)});const b={props:t,levels:o,i18nLanguage:r,searchValue:d,fetchLevels:h,downloadLevel:f,pagination:_,filteredLevels:I,get theme(){return ne}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),re={key:0},se={key:1},ce={key:2},ie={key:3},le=["onClick"],de={class:"author-name"};function ue(n,e,t,o,r,d){const h=v("a-input-search"),f=v("HopeIcon"),_=v("a-list-item-meta"),I=v("a-list-item"),b=v("a-list"),i=v("a-space"),m=v("a-config-provider");return k(),z(J,null,[w(` <a-row :gutter="[16, 24]">
        <a-col :span="8" v-for="level in paginatedLevels" :key="level.name">
            <a-card :title="level.name" @click="downloadLevel(level)" hoverable>
                <p v-if="level.author">Author: {{ level.author }}</p>
                <p v-if="level.introduction">Introduction: {{ level.introduction }}</p>
            </a-card>
        </a-col>
    </a-row>
 `),l(m,{theme:{algorithm:n.$isDarkmode?o.theme.darkAlgorithm:o.theme.defaultAlgorithm}},{default:L(()=>[l(i,{direction:"vertical",size:"middle",style:{width:"100%"},theme:"dark"},{default:L(()=>[l(h,{value:o.searchValue,"onUpdate:value":e[0]||(e[0]=a=>o.searchValue=a),valueModifiers:{lazy:!0},placeholder:"Search level...","enter-button":""},null,8,["value"]),l(b,{"item-layout":"vertical","data-source":o.filteredLevels,size:"middle",header:"PvZ2 Gardendless Levels",pagination:o.pagination,bordered:""},{renderItem:L(({item:a})=>[l(I,null,{actions:L(()=>[a.version?(k(),z("span",re,[l(f,{icon:"code-branch"}),A(" "+C(a.version),1)])):w("v-if",!0),a.difficulty?(k(),z("span",se,[l(f,{icon:"fire"}),A(" "+C(a.difficulty),1)])):w("v-if",!0),a.category?(k(),z("span",ce,[l(f,{icon:"tag"}),A(" "+C(a.category),1)])):w("v-if",!0),a.updatedAt?(k(),z("span",ie,[l(f,{icon:"clock"}),A(" "+C(a.updatedAt),1)])):w("v-if",!0)]),default:L(()=>[l(_,{description:a.introduction},{title:L(()=>[F("a",{onClick:y=>o.downloadLevel(a)},C(a.name),9,le),F("span",de," by "+C(a.author),1)]),_:2},1032,["description"])]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1},8,["theme"])],2112)}const ge=Z(ae,[["render",ue],["__scopeId","data-v-71ff919b"],["__file","App.vue"]]);export{ge as L};
