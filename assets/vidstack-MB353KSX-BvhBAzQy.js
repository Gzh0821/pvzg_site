var l=t=>{throw TypeError(t)};var n=(t,e,s)=>e.has(t)||l("Cannot "+s);var i=(t,e,s)=>(n(t,e,"read from private field"),s?s.call(t):e.get(t)),h=(t,e,s)=>e.has(t)?l("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),u=(t,e,s,o)=>(n(t,e,"write to private field"),o?o.call(t,s):e.set(t,s),s),c=(t,e,s)=>(n(t,e,"access private method"),s);import{R as b,s as d,F as y,A as m,k as A,L as w}from"./app-zG_0mfGF.js";var r,a,p,f,g,L=(g=class{constructor(t){h(this,a);h(this,r);this.src=b(""),this.referrerPolicy=null,u(this,r,t),t.setAttribute("frameBorder","0"),t.setAttribute("aria-hidden","true"),t.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),this.referrerPolicy!==null&&t.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return i(this,r)}setup(){d(window,"message",c(this,a,f).bind(this)),d(i(this,r),"load",this.onLoad.bind(this)),y(c(this,a,p).bind(this))}postMessage(t,e){var s;(s=i(this,r).contentWindow)==null||s.postMessage(JSON.stringify(t),e??"*")}},r=new WeakMap,a=new WeakSet,p=function(){let t=this.src();if(!t.length){i(this,r).setAttribute("src","");return}let e=m(()=>this.buildParams());i(this,r).setAttribute("src",A(t,e))},f=function(t){var s;let e=this.getOrigin();if((t.source===null||t.source===((s=i(this,r))==null?void 0:s.contentWindow))&&(!w(e)||e===t.origin)){try{let o=JSON.parse(t.data);o&&this.onMessage(o,t);return}catch{}t.data&&this.onMessage(t.data,t)}},g);export{L as g};
