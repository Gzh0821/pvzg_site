import{k as P,f as k,r as L,c as l,o as s,F as h,h as c,b as e,i as w,d as M,u,w as C,l as V,t as r,m as I,e as $,n as E,q as j,v as B,s as D}from"./app-eOsBhSqo.js";import{u as W}from"./useDarkMode-C5r5fcXJ.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as K,p as O,i as S}from"./formatPlants-i0VKITDM.js";const G=["onClick"],Z=["src","alt"],q=["src","alt"],J=["src","alt"],R=P({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(A,{emit:m}){const a=W(),o=m,n=k({}),p=(d,_=void 0)=>{_&&(n.value[_.codename]=!1),o("selectPlant",d)};return(d,_)=>{const f=L("a-col"),g=L("a-row"),v=L("a-popover");return s(),l(h,null,[c(' <div class="plant-catalog"> '),c(" <h2>植物列表</h2> "),e("ul",null,[(s(!0),l(h,null,w(d.plants,t=>(s(),l("li",{key:t.id,onClick:i=>p(t)},[c(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                :alt="plant.name"> `),c(` <div class="plant-image-frame">
                <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                    :alt="plant.name">
                <img class="frame-img" :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                    :alt="plant.frameWorld">
            </div> `),t.subPlants?(s(),l(h,{key:0},[M(v,{"arrow-point-at-center":"",trigger:"hover",open:n.value[t.codename],onVisibleChange:i=>n.value[t.codename]=i,overlayInnerStyle:{border:u(a)?"3px solid #deb991":"3px solid #432b1a",backgroundColor:u(a)?"#383011":"#ede5c4",textAlign:"center"}},{content:C(()=>[M(g,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:C(()=>[(s(!0),l(h,null,w(t.subPlants.map(i=>d.plantMap[i]),i=>(s(),V(f,{key:i.id,onClick:y=>p(i,t)},{default:C(()=>[e("img",{src:"/assets/image/plants/plants_"+i.codename+"_c.webp",alt:t.name},null,8,Z),e("p",null,r(i.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:C(()=>[e("img",{src:"/assets/image/plants/plants_"+t.codename+"_c.webp",alt:t.name},null,8,q)]),_:2},1032,["open","onVisibleChange","overlayInnerStyle"]),e("p",null,r(t.name),1)],64)):(s(),l(h,{key:1},[e("img",{src:"/assets/image/plants/plants_"+t.codename+"_c.webp",alt:t.name},null,8,J),e("p",null,r(t.name),1)],64))],8,G))),128))]),c(" </div> ")],2112)}}}),U=N(R,[["__scopeId","data-v-32bc0b92"]]),H={key:0,class:"plant-detail"},Q={class:"details-container"},X={class:"plant-image"},Y=["src","alt"],x={class:"plant-title"},ee=["src","alt"],te={class:"plant-stats"},ae={class:"ability"},se=["src"],ne={class:"value"},le={class:"details-container"},oe={class:"plant-introduction"},ie={class:"description"},ce={class:"descriptionKey"},re={class:"description"},pe={class:"details-container"},de={class:"plant-introduction"},me={class:"description"},_e={class:"descriptionKey"},ue={class:"description"},ve={class:"descriptionKey"},ge=P({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(A){const m=I("i18nLanguage","zh");return(a,o)=>a.plant?(s(),l("div",H,[e("div",Q,[e("div",X,[c(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),c(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+a.plant.codename+"_c.webp",alt:a.plant.name},null,8,Y),e("p",x,r(a.plant.name),1),a.plant.enFamily?(s(),l("img",{key:0,src:"/assets/wikicon/"+a.plant.enFamily+"_familyicon.webp",alt:a.plant.enFamily,class:"family-img"},null,8,ee)):c("v-if",!0)]),e("div",te,[e("table",null,[e("tbody",null,[(s(!0),l(h,null,w(a.plant.elements,(n,p)=>(s(),l("tr",{key:p},[e("td",ae,[e("img",{src:a.keyMap[p].icon},null,8,se),$(" "+r(a.keyMap[p][u(m)]),1)]),e("td",ne,r(n),1)]))),128)),c(` <tr key="CodeName">
                            <td class="ability"> CodeName </td>
                            <td class="value">{{ plant.codename }}</td>
                        </tr> `)])])])]),e("div",le,[e("div",oe,[e("p",ie,r(a.plant.description),1),o[0]||(o[0]=e("br",null,null,-1)),(s(!0),l(h,null,w(a.plant.special,n=>(s(),l("p",{key:n.NAME[u(m)],class:"description"},[$(r(n.NAME[u(m)])+": ",1),e("span",ce,r(n.DESCRIPTION[u(m)]),1)]))),128)),o[1]||(o[1]=e("br",null,null,-1)),e("p",re,r(a.plant.chat),1)])]),e("div",pe,[e("div",de,[e("p",me,[o[2]||(o[2]=$("Codename: ")),e("span",_e,r(a.plant.codename),1)]),e("p",ue,[o[3]||(o[3]=$("PlantID: ")),e("span",ve,r(a.plant.id),1)]),c(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):c("v-if",!0)}}),he=N(ge,[["__scopeId","data-v-7f0d6d10"]]),fe={class:"plant-filter"},ye={class:"search-input-group"},be=["placeholder"],ke={class:"filter-family-group"},we=["onClick"],Ce=["src","alt"],$e=P({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(A,{emit:m}){const a=m,o=k(""),n=k(""),p=I("i18nLanguage","zh"),d=g=>(n.value=n.value==g?"":g,_()),_=()=>{a("filterPlants",{name:o.value,family:n.value})},f=E(()=>p==="zh"?"输入植物名称或id":"Enter plant name or id");return(g,v)=>(s(),l("div",fe,[e("div",ye,[v[1]||(v[1]=e("label",{for:"plant-search"},"Search:",-1)),j(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":v[0]||(v[0]=t=>o.value=t),placeholder:f.value,onInput:_},null,40,be),[[B,o.value]]),c(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",ke,[c(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(s(!0),l(h,null,w(g.familyNameMap,t=>(s(),l("div",{class:D(["filter-family-option",{selected:n.value===t.en}]),onClick:i=>d(t.en)},[e("img",{src:"/assets/wikicon/"+t.en+"_familyicon.webp",alt:t.en,class:D(t.en===n.value?"selected":"")},null,10,Ce)],10,we))),256))])]))}}),Me=N($e,[["__scopeId","data-v-8093ae1d"]]),Pe={class:"app"},Ne={class:"container"},Ae={class:"filter"},Fe={key:0},Le={key:1},Ie={class:"container"},De={class:"sidebar"},Se={class:"content"},Ve=P({__name:"App",setup(A){var v,t;const m=(v=S)==null?void 0:v.Almanac,a=(t=S)==null?void 0:t.PlantFamily,o=I("i18nLanguage","zh"),n=k([]),p=K(o),d=k([]),_=k(null),f=i=>{_.value=i},g=i=>{const{name:y,family:F}=i;d.value=n.value.filter(b=>{const z=b.id.toString()==y||b.name.toLowerCase().includes(y.toLowerCase())||b.enName.toLowerCase().includes(y.toLowerCase())||b.codename.toLowerCase().includes(y.toLowerCase()),T=F==""||b.enFamily==F||F=="None"&&b.enFamily=="";return z&&T})};return n.value=O.map(i=>p[i]),d.value=n.value,f(d.value[0]),(i,y)=>(s(),l("div",Pe,[e("div",Ne,[e("div",Ae,[u(o)=="zh"?(s(),l("h1",Fe,"PvZ2 Gardendless 植物图鉴")):(s(),l("h1",Le,"PvZ2 Gardendless Plants Almanac")),M(Me,{onFilterPlants:g,familyNameMap:u(a)},null,8,["familyNameMap"])])]),e("div",Ie,[e("div",De,[M(U,{plants:d.value,onSelectPlant:f,plantMap:u(p)},null,8,["plants","plantMap"])]),e("div",Se,[_.value?(s(),V(he,{key:0,keyMap:u(m),plant:_.value},null,8,["keyMap","plant"])):c("v-if",!0)])])]))}}),Be=N(Ve,[["__scopeId","data-v-c97c8dd3"]]);export{Be as A};
