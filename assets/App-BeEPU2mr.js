import{k as M,f as k,r as A,c as i,o as l,F as h,b as e,h as m,i as C,d as w,w as $,l as D,t as r,m as F,e as y,u as _,n as S,q as z,v as T,s as L}from"./app-BA0NYnKc.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as j,p as B,i as I}from"./formatPlants-7OkrPwsP.js";const K=["onClick"],V=["src","alt"],W=["src","alt"],G=["src","alt"],R=M({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(P,{emit:p}){const t=p,n=k({}),o=(c,d=void 0)=>{d&&(n.value[d.codename]=!1),t("selectPlant",c)};return(c,d)=>{const u=A("a-col"),g=A("a-row"),v=A("a-popover");return l(),i(h,null,[e("ul",null,[(l(!0),i(h,null,C(c.plants,s=>(l(),i("li",{key:s.id,onClick:a=>o(s)},[s.subPlants?(l(),i(h,{key:0},[w(v,{"arrow-point-at-center":"",trigger:"hover",open:n.value[s.codename],onOpenChange:a=>n.value[s.codename]=a,overlayInnerStyle:{border:c.$isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:c.$isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:$(()=>[w(g,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:$(()=>[(l(!0),i(h,null,C(s.subPlants.map(a=>c.plantMap[a]),a=>(l(),D(u,{key:a.id,onClick:b=>o(a,s)},{default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+a.codename+"_c.webp",alt:a.name},null,8,V),e("p",null,r(a.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,W)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,r(s.name),1)],64)):(l(),i(h,{key:1},[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,G),e("p",null,r(s.name),1)],64))],8,K))),128))]),m(" </div> ")],2112)}}}),Z=N(R,[["__scopeId","data-v-d39d3aae"]]),q={key:0,class:"plant-detail"},J={class:"details-container"},U={class:"plant-image"},H=["src","alt"],Q={class:"plant-title"},X=["src","alt"],Y={class:"plant-stats"},x={class:"ability"},ee=["src","alt"],te={class:"value"},se={class:"details-container"},ae={class:"plant-introduction"},ne={class:"description"},le={class:"descriptionKey"},oe={class:"description"},ie={class:"details-container"},ce={class:"plant-introduction"},re={class:"description"},pe={class:"descriptionKey"},de={class:"description"},me={class:"descriptionKey"},_e={class:"description"},ue={class:"descriptionKey"},ve={class:"description"},he={class:"descriptionKey"},ge=M({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(P){const p=F("i18nLanguage","zh");return(t,n)=>t.plant?(l(),i("div",q,[e("div",J,[e("div",U,[m(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),m(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,H),e("p",Q,r(t.plant.name),1),t.plant.enFamily&&t.plant.enFamily!="None"?(l(),i("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,X)):m("v-if",!0)]),e("div",Y,[e("table",null,[e("tbody",null,[(l(!0),i(h,null,C(t.plant.elements,(o,c)=>(l(),i("tr",{key:c},[e("td",x,[e("img",{src:t.keyMap[c].icon,alt:t.keyMap[c][_(p)]},null,8,ee),y(" "+r(t.keyMap[c][_(p)]),1)]),e("td",te,r(o),1)]))),128)),m(` <tr key="CodeName">
                        <td class="ability"> CodeName </td>
                        <td class="value">{{ plant.codename }}</td>
                    </tr> `)])])])]),e("div",se,[e("div",ae,[e("p",ne,r(t.plant.description),1),n[0]||(n[0]=e("br",null,null,-1)),(l(!0),i(h,null,C(t.plant.special,o=>(l(),i("p",{key:o.NAME[_(p)],class:"description"},[y(r(o.NAME[_(p)])+": ",1),e("span",le,r(o.DESCRIPTION[_(p)]),1)]))),128)),n[1]||(n[1]=e("br",null,null,-1)),e("p",oe,r(t.plant.chat),1)])]),e("div",ie,[e("div",ce,[e("p",re,[n[2]||(n[2]=y("CODENAME: ")),e("span",pe,r(t.plant.codename),1)]),e("p",de,[n[3]||(n[3]=y("ID: ")),e("span",me,r(t.plant.id),1)]),e("p",_e,[n[4]||(n[4]=y("OBTAINWORLD: ")),e("span",ue,r(t.plant.obtainWorld),1)]),e("p",ve,[n[5]||(n[5]=y("Properties: ")),e("span",he,r(t.plant.objdata),1)]),m(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):m("v-if",!0)}}),fe=N(ge,[["__scopeId","data-v-33ed36ac"]]),ye={class:"plant-filter"},ke={class:"search-input-group"},be=["placeholder"],Ce={class:"filter-family-group"},$e=["onClick"],we=["src","alt"],Me=M({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(P,{emit:p}){const t=p,n=k(""),o=k(""),c=F("i18nLanguage","zh"),d=v=>(o.value=o.value==v?"":v,u()),u=()=>{t("filterPlants",{name:n.value,family:o.value})},g=S(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id");return(v,s)=>(l(),i("div",ye,[e("div",ke,[s[1]||(s[1]=e("label",{for:"plant-search"},"Search:",-1)),z(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),placeholder:g.value,onInput:u},null,40,be),[[T,n.value]]),m(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Ce,[m(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(l(!0),i(h,null,C(v.familyNameMap,a=>(l(),i("div",{class:L(["filter-family-option",{selected:o.value===a.en}]),onClick:b=>d(a.en)},[e("img",{src:"/assets/wikicon/"+a.en+"_familyicon.webp",alt:a.en,class:L(a.en===o.value?"selected":"")},null,10,we)],10,$e))),256))])]))}}),Ne=N(Me,[["__scopeId","data-v-721d3f47"]]),Pe={class:"app"},Ae={class:"container"},Fe={class:"filter"},Le={key:0},Ie={key:1},De={class:"container"},Oe={class:"sidebar"},Ee={class:"content"},Se=M({__name:"App",setup(P){const p=I?.Almanac,t=I?.PlantFamily,n=F("i18nLanguage","zh"),o=k([]),c=j(n),d=k([]),u=k(null),g=s=>{u.value=s},v=s=>{const{name:a,family:b}=s;d.value=o.value.filter(f=>{const O=f.id.toString()==a||f.name.toLowerCase().includes(a.toLowerCase())||f.enName.toLowerCase().includes(a.toLowerCase())||f.codename.toLowerCase().includes(a.toLowerCase()),E=b==""||f.enFamily==b||b=="None"&&f.enFamily=="";return O&&E})};return o.value=B.map(s=>c[s]),d.value=o.value,g(d.value[0]),(s,a)=>(l(),i("div",Pe,[e("div",Ae,[e("div",Fe,[_(n)=="zh"?(l(),i("h1",Le,"PvZ2 Gardendless 植物图鉴")):(l(),i("h1",Ie,"PvZ2 Gardendless Plants Almanac")),w(Ne,{onFilterPlants:v,familyNameMap:_(t)},null,8,["familyNameMap"])])]),e("div",De,[e("div",Oe,[w(Z,{plants:d.value,onSelectPlant:g,plantMap:_(c)},null,8,["plants","plantMap"])]),e("div",Ee,[u.value?(l(),D(fe,{key:0,keyMap:_(p),plant:u.value},null,8,["keyMap","plant"])):m("v-if",!0)])])]))}}),Be=N(Se,[["__scopeId","data-v-c5fe276d"]]);export{Be as A};
