import{m as A,j as y,r as F,c as o,o as i,h as _,a as e,F as f,i as k,b as N,g as w,n as T,t as u,q as S,d as M,u as O,v as V,x as z,y as I}from"./app-COGmRoa0.js";import{_ as L}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as W,p as K,i as j}from"./formatPlants-DxR24t5O.js";const G=A({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(m,{expose:s,emit:a}){s();const t=m,r=a,d=y({}),c={props:t,emits:r,visible:d,selectPlant:(g,l=void 0)=>{l&&(d.value[l.codename]=!1),r("selectPlant",g)}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),Z=["onClick"],q=["src","alt"],J=["src","alt"],R=["src","alt"];function U(m,s,a,t,r,d){const n=F("a-col"),c=F("a-row"),g=F("a-popover");return i(),o(f,null,[_(' <div class="plant-catalog"> '),_(" <h2>植物列表</h2> "),e("ul",null,[(i(!0),o(f,null,k(a.plants,l=>(i(),o("li",{key:l.id,onClick:p=>t.selectPlant(l)},[_(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                :alt="plant.name"> `),_(` <div class="plant-image-frame">
                <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                    :alt="plant.name">
                <img class="frame-img" :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                    :alt="plant.frameWorld">
            </div> `),l.subPlants?(i(),o(f,{key:0},[N(g,{"arrow-point-at-center":"",trigger:"hover",open:t.visible[l.codename],onVisibleChange:p=>t.visible[l.codename]=p,overlayInnerStyle:{border:m.$isDarkmode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:m.$isDarkmode?"#383011":"#ede5c4",textAlign:"center"}},{content:w(()=>[N(c,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:w(()=>[(i(!0),o(f,null,k(l.subPlants.map(p=>a.plantMap[p]),p=>(i(),T(n,{key:p.id,onClick:v=>t.selectPlant(p,l)},{default:w(()=>[e("img",{src:"/assets/image/plants/plants_"+p.codename+"_c.webp",alt:l.name},null,8,q),e("p",null,u(p.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:w(()=>[e("img",{src:"/assets/image/plants/plants_"+l.codename+"_c.webp",alt:l.name},null,8,J)]),_:2},1032,["open","onVisibleChange","overlayInnerStyle"]),e("p",null,u(l.name),1)],64)):(i(),o(f,{key:1},[e("img",{src:"/assets/image/plants/plants_"+l.codename+"_c.webp",alt:l.name},null,8,R),e("p",null,u(l.name),1)],64))],8,Z))),128))]),_(" </div> ")],2112)}const H=L(G,[["render",U],["__scopeId","data-v-a77694a2"],["__file","PlantCatalog.vue"]]),Q=A({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(m,{expose:s}){s();const a=m,t=S("i18nLanguage","zh"),r={props:a,i18nLanguage:t};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),X={key:0,class:"plant-detail"},Y={class:"details-container"},$={class:"plant-image"},ee=["src","alt"],te={class:"plant-title"},ae=["src","alt"],ne={class:"plant-stats"},se={class:"ability"},le=["src"],ie={class:"value"},oe={class:"details-container"},ce={class:"plant-introduction"},re={class:"description"},de={class:"descriptionKey"},_e={class:"description"},pe={class:"details-container"},me={class:"plant-introduction"},ue={class:"description"},ge={class:"descriptionKey"},fe={class:"description"},ve={class:"descriptionKey"};function he(m,s,a,t,r,d){return a.plant?(i(),o("div",X,[e("div",Y,[e("div",$,[_(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),_(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+a.plant.codename+"_c.webp",alt:a.plant.name},null,8,ee),e("p",te,u(a.plant.name),1),a.plant.enFamily?(i(),o("img",{key:0,src:"/assets/wikicon/"+a.plant.enFamily+"_familyicon.webp",alt:a.plant.enFamily,class:"family-img"},null,8,ae)):_("v-if",!0)]),e("div",ne,[e("table",null,[e("tbody",null,[(i(!0),o(f,null,k(a.plant.elements,(n,c)=>(i(),o("tr",{key:c},[e("td",se,[e("img",{src:a.keyMap[c].icon},null,8,le),M(" "+u(a.keyMap[c][t.i18nLanguage]),1)]),e("td",ie,u(n),1)]))),128)),_(` <tr key="CodeName">
                            <td class="ability"> CodeName </td>
                            <td class="value">{{ plant.codename }}</td>
                        </tr> `)])])])]),e("div",oe,[e("div",ce,[e("p",re,u(a.plant.description),1),s[0]||(s[0]=e("br",null,null,-1)),(i(!0),o(f,null,k(a.plant.special,n=>(i(),o("p",{key:n.NAME[t.i18nLanguage],class:"description"},[M(u(n.NAME[t.i18nLanguage])+": ",1),e("span",de,u(n.DESCRIPTION[t.i18nLanguage]),1)]))),128)),s[1]||(s[1]=e("br",null,null,-1)),e("p",_e,u(a.plant.chat),1)])]),e("div",pe,[e("div",me,[e("p",ue,[s[2]||(s[2]=M("Codename: ")),e("span",ge,u(a.plant.codename),1)]),e("p",fe,[s[3]||(s[3]=M("PlantID: ")),e("span",ve,u(a.plant.id),1)]),_(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):_("v-if",!0)}const ye=L(Q,[["render",he],["__scopeId","data-v-7f0d6d10"],["__file","PlantDetail.vue"]]),be=A({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(m,{expose:s,emit:a}){s();const t=m,r=a,d=y(""),n=y(""),c=S("i18nLanguage","zh"),g=b=>(n.value=n.value==b?"":b,l()),l=()=>{r("filterPlants",{name:d.value,family:n.value})},p=O(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id"),v={props:t,emits:r,searchTerm:d,selectedAttribute:n,i18nLanguage:c,selectAttribute:g,handleFilter:l,placeholder:p};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),Pe={class:"plant-filter"},ke={class:"search-input-group"},Ce=["placeholder"],we={class:"filter-family-group"},Me=["onClick"],Ne=["src","alt"];function Ae(m,s,a,t,r,d){return i(),o("div",Pe,[e("div",ke,[s[1]||(s[1]=e("label",{for:"plant-search"},"Search:",-1)),V(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>t.searchTerm=n),placeholder:t.placeholder,onInput:t.handleFilter},null,40,Ce),[[z,t.searchTerm]]),_(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",we,[_(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(i(!0),o(f,null,k(a.familyNameMap,n=>(i(),o("div",{class:I(["filter-family-option",{selected:t.selectedAttribute===n.en}]),onClick:c=>t.selectAttribute(n.en)},[e("img",{src:"/assets/wikicon/"+n.en+"_familyicon.webp",alt:n.en,class:I(n.en===t.selectedAttribute?"selected":"")},null,10,Ne)],10,Me))),256))])])}const Le=L(be,[["render",Ae],["__scopeId","data-v-8093ae1d"],["__file","PlantFilter.vue"]]),xe=A({__name:"App",setup(m,{expose:s}){var b,D;s();const a=(b=j)==null?void 0:b.Almanac,t=(D=j)==null?void 0:D.PlantFamily,r=S("i18nLanguage","zh"),d=y([]),n=W(r),c=y([]),g=y(null),l=P=>{g.value=P},p=P=>{const{name:C,family:x}=P;c.value=d.value.filter(h=>{const B=h.id.toString()==C||h.name.toLowerCase().includes(C.toLowerCase())||h.enName.toLowerCase().includes(C.toLowerCase())||h.codename.toLowerCase().includes(C.toLowerCase()),E=x==""||h.enFamily==x||x=="None"&&h.enFamily=="";return B&&E})};d.value=K.map(P=>n[P]),c.value=d.value,l(c.value[0]);const v={keyMap:a,familyNameMap:t,i18nLanguage:r,plants:d,plantMap:n,filteredPlants:c,selectedPlant:g,selectPlant:l,filterPlants:p,PlantCatalog:H,PlantDetail:ye,PlantFilter:Le};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),Fe={class:"app"},Se={class:"container"},De={class:"filter"},Ie={key:0},je={key:1},Te={class:"container"},Be={class:"sidebar"},Ee={class:"content"};function Oe(m,s,a,t,r,d){return i(),o("div",Fe,[e("div",Se,[e("div",De,[t.i18nLanguage=="zh"?(i(),o("h1",Ie,"PvZ2 Gardendless 植物图鉴")):(i(),o("h1",je,"PvZ2 Gardendless Plants Almanac")),N(t.PlantFilter,{onFilterPlants:t.filterPlants,familyNameMap:t.familyNameMap},null,8,["familyNameMap"])])]),e("div",Te,[e("div",Be,[N(t.PlantCatalog,{plants:t.filteredPlants,onSelectPlant:t.selectPlant,plantMap:t.plantMap},null,8,["plants","plantMap"])]),e("div",Ee,[t.selectedPlant?(i(),T(t.PlantDetail,{key:0,keyMap:t.keyMap,plant:t.selectedPlant},null,8,["keyMap","plant"])):_("v-if",!0)])])])}const Ke=L(xe,[["render",Oe],["__scopeId","data-v-c97c8dd3"],["__file","App.vue"]]);export{Ke as A};
