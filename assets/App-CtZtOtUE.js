import{k as N,f as w,r as F,c as o,o as n,F as h,h as r,b as e,i as C,d as M,u,w as $,l as S,t as c,m as I,e as k,n as j,q as z,v as O,s as D}from"./app-BRcM2bMN.js";import{u as W}from"./useDarkMode-BB5P-xLV.js";import{_ as P}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as B,p as K,i as E}from"./formatPlants-BponpsY7.js";const G=["onClick"],R=["src","alt"],Z=["src","alt"],q=["src","alt"],J=N({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(A,{emit:m}){const s=W(),a=m,l=w({}),p=(d,_=void 0)=>{_&&(l.value[_.codename]=!1),a("selectPlant",d)};return(d,_)=>{const f=F("a-col"),g=F("a-row"),v=F("a-popover");return n(),o(h,null,[r(' <div class="plant-catalog"> '),r(" <h2>植物列表</h2> "),e("ul",null,[(n(!0),o(h,null,C(d.plants,t=>(n(),o("li",{key:t.id,onClick:i=>p(t)},[r(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                :alt="plant.name"> `),r(` <div class="plant-image-frame">
                <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                    :alt="plant.name">
                <img class="frame-img" :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                    :alt="plant.frameWorld">
            </div> `),t.subPlants?(n(),o(h,{key:0},[M(v,{"arrow-point-at-center":"",trigger:"hover",open:l.value[t.codename],onVisibleChange:i=>l.value[t.codename]=i,overlayInnerStyle:{border:u(s)?"3px solid #deb991":"3px solid #432b1a",backgroundColor:u(s)?"#383011":"#ede5c4",textAlign:"center"}},{content:$(()=>[M(g,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:$(()=>[(n(!0),o(h,null,C(t.subPlants.map(i=>d.plantMap[i]),i=>(n(),S(f,{key:i.id,onClick:y=>p(i,t)},{default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+i.codename+"_c.webp",alt:t.name},null,8,R),e("p",null,c(i.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+t.codename+"_c.webp",alt:t.name},null,8,Z)]),_:2},1032,["open","onVisibleChange","overlayInnerStyle"]),e("p",null,c(t.name),1)],64)):(n(),o(h,{key:1},[e("img",{src:"/assets/image/plants/plants_"+t.codename+"_c.webp",alt:t.name},null,8,q),e("p",null,c(t.name),1)],64))],8,G))),128))]),r(" </div> ")],2112)}}}),U=P(J,[["__scopeId","data-v-32bc0b92"]]),H={key:0,class:"plant-detail"},Q={class:"details-container"},X={class:"plant-image"},Y=["src","alt"],x={class:"plant-title"},ee=["src","alt"],te={class:"plant-stats"},se={class:"ability"},ae=["src"],ne={class:"value"},le={class:"details-container"},oe={class:"plant-introduction"},ie={class:"description"},ce={class:"descriptionKey"},re={class:"description"},pe={class:"details-container"},de={class:"plant-introduction"},me={class:"description"},_e={class:"descriptionKey"},ue={class:"description"},ve={class:"descriptionKey"},ge={class:"description"},he={class:"descriptionKey"},fe={class:"description"},ye={class:"descriptionKey"},be=N({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(A){const m=I("i18nLanguage","zh");return(s,a)=>s.plant?(n(),o("div",H,[e("div",Q,[e("div",X,[r(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),r(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+s.plant.codename+"_c.webp",alt:s.plant.name},null,8,Y),e("p",x,c(s.plant.name),1),s.plant.enFamily?(n(),o("img",{key:0,src:"/assets/wikicon/"+s.plant.enFamily+"_familyicon.webp",alt:s.plant.enFamily,class:"family-img"},null,8,ee)):r("v-if",!0)]),e("div",te,[e("table",null,[e("tbody",null,[(n(!0),o(h,null,C(s.plant.elements,(l,p)=>(n(),o("tr",{key:p},[e("td",se,[e("img",{src:s.keyMap[p].icon},null,8,ae),k(" "+c(s.keyMap[p][u(m)]),1)]),e("td",ne,c(l),1)]))),128)),r(` <tr key="CodeName">
                            <td class="ability"> CodeName </td>
                            <td class="value">{{ plant.codename }}</td>
                        </tr> `)])])])]),e("div",le,[e("div",oe,[e("p",ie,c(s.plant.description),1),a[0]||(a[0]=e("br",null,null,-1)),(n(!0),o(h,null,C(s.plant.special,l=>(n(),o("p",{key:l.NAME[u(m)],class:"description"},[k(c(l.NAME[u(m)])+": ",1),e("span",ce,c(l.DESCRIPTION[u(m)]),1)]))),128)),a[1]||(a[1]=e("br",null,null,-1)),e("p",re,c(s.plant.chat),1)])]),e("div",pe,[e("div",de,[e("p",me,[a[2]||(a[2]=k("CODENAME: ")),e("span",_e,c(s.plant.codename),1)]),e("p",ue,[a[3]||(a[3]=k("ID: ")),e("span",ve,c(s.plant.id),1)]),e("p",ge,[a[4]||(a[4]=k("OBTAINWORLD: ")),e("span",he,c(s.plant.obtainWorld),1)]),e("p",fe,[a[5]||(a[5]=k("objdata: ")),e("span",ye,c(s.plant.objdata),1)]),r(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):r("v-if",!0)}}),ke=P(be,[["__scopeId","data-v-9c2ed03b"]]),we={class:"plant-filter"},Ce={class:"search-input-group"},$e=["placeholder"],Me={class:"filter-family-group"},Ne=["onClick"],Pe=["src","alt"],Ae=N({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(A,{emit:m}){const s=m,a=w(""),l=w(""),p=I("i18nLanguage","zh"),d=g=>(l.value=l.value==g?"":g,_()),_=()=>{s("filterPlants",{name:a.value,family:l.value})},f=j(()=>p==="zh"?"输入植物名称或id":"Enter plant name or id");return(g,v)=>(n(),o("div",we,[e("div",Ce,[v[1]||(v[1]=e("label",{for:"plant-search"},"Search:",-1)),z(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":v[0]||(v[0]=t=>a.value=t),placeholder:f.value,onInput:_},null,40,$e),[[O,a.value]]),r(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Me,[r(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(n(!0),o(h,null,C(g.familyNameMap,t=>(n(),o("div",{class:D(["filter-family-option",{selected:l.value===t.en}]),onClick:i=>d(t.en)},[e("img",{src:"/assets/wikicon/"+t.en+"_familyicon.webp",alt:t.en,class:D(t.en===l.value?"selected":"")},null,10,Pe)],10,Ne))),256))])]))}}),Le=P(Ae,[["__scopeId","data-v-8093ae1d"]]),Fe={class:"app"},Ie={class:"container"},De={class:"filter"},Ee={key:0},Se={key:1},Te={class:"container"},Ve={class:"sidebar"},je={class:"content"},ze=N({__name:"App",setup(A){var v,t;const m=(v=E)==null?void 0:v.Almanac,s=(t=E)==null?void 0:t.PlantFamily,a=I("i18nLanguage","zh"),l=w([]),p=B(a),d=w([]),_=w(null),f=i=>{_.value=i},g=i=>{const{name:y,family:L}=i;d.value=l.value.filter(b=>{const T=b.id.toString()==y||b.name.toLowerCase().includes(y.toLowerCase())||b.enName.toLowerCase().includes(y.toLowerCase())||b.codename.toLowerCase().includes(y.toLowerCase()),V=L==""||b.enFamily==L||L=="None"&&b.enFamily=="";return T&&V})};return l.value=K.map(i=>p[i]),d.value=l.value,f(d.value[0]),(i,y)=>(n(),o("div",Fe,[e("div",Ie,[e("div",De,[u(a)=="zh"?(n(),o("h1",Ee,"PvZ2 Gardendless 植物图鉴")):(n(),o("h1",Se,"PvZ2 Gardendless Plants Almanac")),M(Le,{onFilterPlants:g,familyNameMap:u(s)},null,8,["familyNameMap"])])]),e("div",Te,[e("div",Ve,[M(U,{plants:d.value,onSelectPlant:f,plantMap:u(p)},null,8,["plants","plantMap"])]),e("div",je,[_.value?(n(),S(ke,{key:0,keyMap:u(m),plant:_.value},null,8,["keyMap","plant"])):r("v-if",!0)])])]))}}),Ge=P(ze,[["__scopeId","data-v-c97c8dd3"]]);export{Ge as A};
