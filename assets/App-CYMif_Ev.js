import{u as T}from"./useDarkMode-CNXN8uTq.js";import{k as P,f as k,r as F,c as i,o as l,F as h,b as e,h as m,i as $,d as M,w,l as E,t as r,m as D,e as b,u as g,n as j,q as B,v as K,s as I}from"./app-CtS59LNF.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as V,p as W,i as O}from"./formatPlants-DrKqpweE.js";const G=["onClick"],R=["src","alt"],Z=["src","alt"],q=["src","alt"],J=P({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(A,{emit:p}){T();const t=p,s=k({}),o=(c,d=void 0)=>{d&&(s.value[d.codename]=!1),t("selectPlant",c)};return(c,d)=>{const _=F("a-col"),f=F("a-row"),u=F("a-popover");return l(),i(h,null,[e("ul",null,[(l(!0),i(h,null,$(c.plants,a=>(l(),i("li",{key:a.id,onClick:n=>o(a)},[a.subPlants?(l(),i(h,{key:0},[M(u,{"arrow-point-at-center":"",trigger:"hover",open:s.value[a.codename],onOpenChange:n=>s.value[a.codename]=n,overlayInnerStyle:{border:c.$isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:c.$isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:w(()=>[M(f,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:w(()=>[(l(!0),i(h,null,$(a.subPlants.map(n=>c.plantMap[n]),n=>(l(),E(_,{key:n.id,onClick:v=>o(n,a)},{default:w(()=>[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,R),e("p",null,r(n.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:w(()=>[e("img",{src:"/assets/image/plants/plants_"+a.codename+"_c.webp",alt:a.name},null,8,Z)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,r(a.name),1)],64)):(l(),i(h,{key:1},[e("img",{src:"/assets/image/plants/plants_"+a.codename+"_c.webp",alt:a.name},null,8,q),e("p",null,r(a.name),1)],64))],8,G))),128))]),m(" </div> ")],2112)}}}),U=N(J,[["__scopeId","data-v-c5ba57da"]]),H={key:0,class:"plant-detail"},Q={class:"details-container"},X={class:"plant-image"},Y=["src","alt"],x={class:"plant-title"},ee=["src","alt"],te={class:"plant-stats"},se={class:"ability"},ae=["src"],ne={class:"value"},le={class:"details-container"},oe={class:"plant-introduction"},ie={class:"description"},ce={class:"descriptionKey"},re={class:"description"},pe={class:"details-container"},de={class:"plant-introduction"},me={class:"description"},_e={class:"descriptionKey"},ue={class:"description"},ve={class:"descriptionKey"},he={class:"description"},ge={class:"descriptionKey"},fe={class:"description"},ye={class:"descriptionKey"},be=P({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(A){const p=D("i18nLanguage","zh");return(t,s)=>t.plant?(l(),i("div",H,[e("div",Q,[e("div",X,[m(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),m(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,Y),e("p",x,r(t.plant.name),1),t.plant.enFamily?(l(),i("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,ee)):m("v-if",!0)]),e("div",te,[e("table",null,[e("tbody",null,[(l(!0),i(h,null,$(t.plant.elements,(o,c)=>(l(),i("tr",{key:c},[e("td",se,[e("img",{src:t.keyMap[c].icon},null,8,ae),b(" "+r(t.keyMap[c][g(p)]),1)]),e("td",ne,r(o),1)]))),128)),m(` <tr key="CodeName">
                            <td class="ability"> CodeName </td>
                            <td class="value">{{ plant.codename }}</td>
                        </tr> `)])])])]),e("div",le,[e("div",oe,[e("p",ie,r(t.plant.description),1),s[0]||(s[0]=e("br",null,null,-1)),(l(!0),i(h,null,$(t.plant.special,o=>(l(),i("p",{key:o.NAME[g(p)],class:"description"},[b(r(o.NAME[g(p)])+": ",1),e("span",ce,r(o.DESCRIPTION[g(p)]),1)]))),128)),s[1]||(s[1]=e("br",null,null,-1)),e("p",re,r(t.plant.chat),1)])]),e("div",pe,[e("div",de,[e("p",me,[s[2]||(s[2]=b("CODENAME: ")),e("span",_e,r(t.plant.codename),1)]),e("p",ue,[s[3]||(s[3]=b("ID: ")),e("span",ve,r(t.plant.id),1)]),e("p",he,[s[4]||(s[4]=b("OBTAINWORLD: ")),e("span",ge,r(t.plant.obtainWorld),1)]),e("p",fe,[s[5]||(s[5]=b("Properties: ")),e("span",ye,r(t.plant.objdata),1)]),m(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):m("v-if",!0)}}),ke=N(be,[["__scopeId","data-v-00540d6b"]]),Ce={class:"plant-filter"},$e={class:"search-input-group"},we=["placeholder"],Me={class:"filter-family-group"},Pe=["onClick"],Ne=["src","alt"],Ae=P({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(A,{emit:p}){const t=p,s=k(""),o=k(""),c=D("i18nLanguage","zh"),d=u=>(o.value=o.value==u?"":u,_()),_=()=>{t("filterPlants",{name:s.value,family:o.value})},f=j(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id");return(u,a)=>(l(),i("div",Ce,[e("div",$e,[a[1]||(a[1]=e("label",{for:"plant-search"},"Search:",-1)),B(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>s.value=n),placeholder:f.value,onInput:_},null,40,we),[[K,s.value]]),m(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Me,[m(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(l(!0),i(h,null,$(u.familyNameMap,n=>(l(),i("div",{class:I(["filter-family-option",{selected:o.value===n.en}]),onClick:v=>d(n.en)},[e("img",{src:"/assets/wikicon/"+n.en+"_familyicon.webp",alt:n.en,class:I(n.en===o.value?"selected":"")},null,10,Ne)],10,Pe))),256))])]))}}),Le=N(Ae,[["__scopeId","data-v-8093ae1d"]]),Fe={class:"app"},De={class:"container"},Ie={class:"filter"},Oe={key:0},Ee={key:1},Se={class:"container"},ze={class:"sidebar"},Te={class:"content"},je=P({__name:"App",setup(A){var a,n;const p=(a=O)==null?void 0:a.Almanac,t=(n=O)==null?void 0:n.PlantFamily,s=D("i18nLanguage","zh"),o=k([]),c=V(s),d=k([]),_=k(null),f=v=>{_.value=v},u=v=>{const{name:C,family:L}=v;d.value=o.value.filter(y=>{const S=y.id.toString()==C||y.name.toLowerCase().includes(C.toLowerCase())||y.enName.toLowerCase().includes(C.toLowerCase())||y.codename.toLowerCase().includes(C.toLowerCase()),z=L==""||y.enFamily==L||L=="None"&&y.enFamily=="";return S&&z})};return o.value=W.map(v=>c[v]),d.value=o.value,f(d.value[0]),(v,C)=>(l(),i("div",Fe,[e("div",De,[e("div",Ie,[g(s)=="zh"?(l(),i("h1",Oe,"PvZ2 Gardendless 植物图鉴")):(l(),i("h1",Ee,"PvZ2 Gardendless Plants Almanac")),M(Le,{onFilterPlants:u,familyNameMap:g(t)},null,8,["familyNameMap"])])]),e("div",Se,[e("div",ze,[M(U,{plants:d.value,onSelectPlant:f,plantMap:g(c)},null,8,["plants","plantMap"])]),e("div",Te,[_.value?(l(),E(ke,{key:0,keyMap:g(p),plant:_.value},null,8,["keyMap","plant"])):m("v-if",!0)])])]))}}),Ge=N(je,[["__scopeId","data-v-f66f4220"]]);export{Ge as A};
