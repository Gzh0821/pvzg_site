import{a as x}from"./axios-upsvKRUO.js";import{T as N,z as R,A as H,_ as c,B as M,C as U,D as P,E as X,G as T,H as E,m as O,h as V,q as G,u as Q,i as q,I as j,r as v,o as C,c as k,j as b,e as l,g as L,d as w,t as S,b as F,F as J}from"./app-CqLe_hpV.js";import{_ as Z}from"./plugin-vue_export-helper-DlAUqK2U.js";const u=(n,e)=>new N(n).setAlpha(e).toRgbString(),z=(n,e)=>new N(n).lighten(e).toHexString(),W=n=>{const e=R(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},Y=(n,e)=>{const o=n||"#000",t=e||"#fff";return{colorBgBase:o,colorTextBase:t,colorText:u(t,.85),colorTextSecondary:u(t,.65),colorTextTertiary:u(t,.45),colorTextQuaternary:u(t,.25),colorFill:u(t,.18),colorFillSecondary:u(t,.12),colorFillTertiary:u(t,.08),colorFillQuaternary:u(t,.04),colorBgElevated:z(o,12),colorBgContainer:z(o,8),colorBgLayout:z(o,0),colorBgSpotlight:z(o,26),colorBorder:z(o,26),colorBorderSecondary:z(o,19)}},K=(n,e)=>{const o=Object.keys(H).map(r=>{const p=R(n[r],{theme:"dark"});return new Array(10).fill(1).reduce((h,f,_)=>(h[`${r}-${_+1}`]=p[_],h),{})}).reduce((r,p)=>(r=c(c({},r),p),r),{}),t=e??M(n);return c(c(c({},t),o),U(n,{generateColorPalettes:W,generateNeutralColorPalettes:Y}))};function ee(n){const{sizeUnit:e,sizeStep:o}=n,t=o-2;return{sizeXXL:e*(t+10),sizeXL:e*(t+6),sizeLG:e*(t+2),sizeMD:e*(t+2),sizeMS:e*(t+1),size:e*t,sizeSM:e*t,sizeXS:e*(t-1),sizeXXS:e*(t-1)}}const te=(n,e)=>{const o=e??M(n),t=o.fontSizeSM,r=o.controlHeight-4;return c(c(c(c(c({},o),ee(e??n)),P(t)),{controlHeight:r}),X(c(c({},o),{controlHeight:r})))};function oe(){const[n,e,o]=E();return{theme:n,token:e,hashId:o}}const ne={defaultConfig:T,defaultSeed:T.token,useToken:oe,defaultAlgorithm:M,darkAlgorithm:K,compactAlgorithm:te},ae=O({__name:"App",props:{authorGroup:{}},setup(n,{expose:e}){e();const o=n,t=V([]),r=G("i18nLanguage","en"),p=V(""),h=async i=>{try{const a=(await x.get("https://levelapi.pvzge.com/links.json")).data[i];for(const y in a){const d=a[y].location,B=(await x.get(`https://levelapi.pvzge.com${d}`)).data,D=B.authorInfo,$=B.author;B.levelList.forEach(g=>{if(typeof g=="string")t.value.push({name:g,author:$,introduction:D,url:`https://levelapi.pvzge.com/${i}/${y}/levels/${g}`});else if(g.fileName&&g.Information){const s=g.Information;t.value.push({name:typeof s.name=="string"?s.name:s.name[r]??s.name.en,introduction:typeof s.Introduction=="string"?s.Introduction:s.Introduction[r]??s.Introduction.en,author:$,gameVersion:s.GameVersion,version:s.Version,createdAt:s.CreatedAt,updatedAt:s.UpdatedAt,difficulty:s.Difficulty,category:s.Category,url:`https://levelapi.pvzge.com/${i}/${y}/levels/${g.fileName}`})}})}}catch(m){j.error("Failed to load levels: "+m.message)}},f=async i=>{try{const a=(await x.get(i.url)).data,y=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),d=document.createElement("a");d.href=URL.createObjectURL(y),d.setAttribute("download",i.name),document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(d.href)}catch(m){j.error("Failed to download level: "+m.message)}},_={pageSize:6},I=Q(()=>t.value.filter(i=>i.name.toLowerCase().includes(p.value.toLowerCase())));q(()=>{h(o.authorGroup)});const A={props:o,levels:t,i18nLanguage:r,searchValue:p,fetchLevels:h,downloadLevel:f,pagination:_,filteredLevels:I,get theme(){return ne}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),re={key:0},se={key:1},ce={key:2},ie={key:3},le=["onClick"],de={class:"author-name"};function ue(n,e,o,t,r,p){const h=v("a-input-search"),f=v("HopeIcon"),_=v("a-list-item-meta"),I=v("a-list-item"),A=v("a-list"),i=v("a-space"),m=v("a-config-provider");return C(),k(J,null,[b(` <a-row :gutter="[16, 24]">
        <a-col :span="8" v-for="level in paginatedLevels" :key="level.name">
            <a-card :title="level.name" @click="downloadLevel(level)" hoverable>
                <p v-if="level.author">Author: {{ level.author }}</p>
                <p v-if="level.introduction">Introduction: {{ level.introduction }}</p>
            </a-card>
        </a-col>
    </a-row>
 `),l(m,{theme:{algorithm:n.$isDarkmode?t.theme.darkAlgorithm:t.theme.defaultAlgorithm}},{default:L(()=>[l(i,{direction:"vertical",size:"middle",style:{width:"100%"},theme:"dark"},{default:L(()=>[l(h,{value:t.searchValue,"onUpdate:value":e[0]||(e[0]=a=>t.searchValue=a),valueModifiers:{lazy:!0},placeholder:"Search level...","enter-button":""},null,8,["value"]),l(A,{"item-layout":"vertical","data-source":t.filteredLevels,size:"middle",header:"PvZ2 Gardendless Levels",pagination:t.pagination,bordered:""},{renderItem:L(({item:a})=>[l(I,null,{actions:L(()=>[a.version?(C(),k("span",re,[l(f,{icon:"code-branch"}),w(" "+S(a.version),1)])):b("v-if",!0),a.difficulty?(C(),k("span",se,[l(f,{icon:"fire"}),w(" "+S(a.difficulty),1)])):b("v-if",!0),a.category?(C(),k("span",ce,[l(f,{icon:"tag"}),w(" "+S(a.category),1)])):b("v-if",!0),a.updatedAt?(C(),k("span",ie,[l(f,{icon:"clock"}),w(" "+S(a.updatedAt),1)])):b("v-if",!0)]),default:L(()=>[l(_,{description:a.introduction},{title:L(()=>[F("a",{onClick:y=>t.downloadLevel(a)},S(a.name),9,le),F("span",de," by "+S(a.author),1)]),_:2},1032,["description"])]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1},8,["theme"])],2112)}const ge=Z(ae,[["render",ue],["__scopeId","data-v-7bb233ed"],["__file","App.vue"]]);export{ge as L};
