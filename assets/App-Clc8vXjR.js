import{k as w,f as b,r as A,c as o,o as l,F as u,b as e,h as v,i as $,d as P,w as M,l as I,t as d,m as F,e as k,u as m,n as E,q as S,v as z,s as L}from"./app-oF8gTi1K.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as j,p as B,i as x}from"./formatPlants-BI_7XUSp.js";const K=["onClick"],T=["src","alt"],V=["src","alt"],G=["src","alt"],R=w({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(t,{emit:r}){const y=r,a=b({}),i=(c,p=void 0)=>{p&&(a.value[p.codename]=!1),y("selectPlant",c)};return(c,p)=>{const _=A("a-col"),f=A("a-row"),h=A("a-popover");return l(),o(u,null,[e("ul",null,[(l(!0),o(u,null,$(t.plants,n=>(l(),o("li",{key:n.codename,onClick:s=>i(n)},[n.subPlants?(l(),o(u,{key:0},[P(h,{"arrow-point-at-center":"",trigger:"hover",open:a.value[n.codename],onOpenChange:s=>a.value[n.codename]=s,overlayInnerStyle:{border:c.$isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:c.$isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:M(()=>[P(f,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:M(()=>[(l(!0),o(u,null,$(n.subPlants.map(s=>t.plantMap[s]).filter(s=>s),s=>(l(),I(_,{key:s.codename,onClick:C=>i(s,n)},{default:M(()=>[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,T),e("p",null,d(s.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:M(()=>[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,V)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,d(n.name),1)],64)):(l(),o(u,{key:1},[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,G),e("p",null,d(n.name),1)],64))],8,K))),128))]),v(" </div> ")],2112)}}}),W=N(R,[["__scopeId","data-v-0562660c"]]),Z={key:0,class:"plant-detail"},q={class:"details-container"},J={class:"plant-image"},U=["src","alt"],H={class:"plant-title"},Q=["src","alt"],X={class:"plant-stats"},Y={class:"ability"},ee=["src","alt"],te={class:"value"},se={class:"ability"},ne={class:"value"},ae={class:"details-container"},le={class:"plant-introduction"},oe={class:"description"},ie={class:"descriptionKey"},ce={class:"description"},de={class:"details-container"},re={class:"plant-introduction"},pe={class:"description"},ue={class:"descriptionKey"},me={class:"description"},_e={class:"descriptionKey"},ve={class:"description"},he={class:"descriptionKey"},ye={class:"description"},fe={class:"descriptionKey"},ge=w({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(t){const r=F("i18nLanguage","zh");return(y,a)=>t.plant?(l(),o("div",Z,[e("div",q,[e("div",J,[e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,U),e("p",H,d(t.plant.name),1),t.plant.enFamily&&t.plant.enFamily!="None"?(l(),o("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,Q)):v("v-if",!0)]),e("div",X,[e("table",null,[e("tbody",null,[(l(!0),o(u,null,$(t.plant.elements,(i,c)=>(l(),o("tr",{key:c},[t.keyMap[c]?(l(),o(u,{key:0},[e("td",Y,[e("img",{src:t.keyMap[c].icon,alt:t.keyMap[c][m(r)]},null,8,ee),k(" "+d(t.keyMap[c][m(r)]),1)]),e("td",te,d(i),1)],64)):(l(),o(u,{key:1},[e("td",se,d(c),1),e("td",ne,d(i),1)],64))]))),128)),v(` <tr key="CodeName">
                        <td class="ability"> CodeName </td>
                        <td class="value">{{ plant.codename }}</td>
                    </tr> `)])])])]),e("div",ae,[e("div",le,[e("p",oe,d(t.plant.description),1),a[0]||(a[0]=e("br",null,null,-1)),(l(!0),o(u,null,$(t.plant.special,i=>(l(),o("p",{key:i.NAME[m(r)],class:"description"},[k(d(i.NAME[m(r)])+": ",1),e("span",ie,d(i.DESCRIPTION[m(r)]),1)]))),128)),a[1]||(a[1]=e("br",null,null,-1)),e("p",ce,d(t.plant.chat),1)])]),e("div",de,[e("div",re,[e("p",pe,[a[2]||(a[2]=k("CODENAME: ",-1)),e("span",ue,d(t.plant.codename),1)]),e("p",me,[a[3]||(a[3]=k("ID: ",-1)),e("span",_e,d(t.plant.id),1)]),e("p",ve,[a[4]||(a[4]=k("OBTAINWORLD: ",-1)),e("span",he,d(t.plant.obtainWorld),1)]),e("p",ye,[a[5]||(a[5]=k("Properties: ",-1)),e("span",fe,d(t.plant.objdata),1)]),v(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):v("v-if",!0)}}),ke=N(ge,[["__scopeId","data-v-5fca3ce1"]]),be={class:"plant-filter"},Ce={class:"search-input-group"},$e=["placeholder"],Me={class:"filter-family-group"},Pe=["onClick"],we=["src","alt"],Ne=w({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(t,{emit:r}){const y=r,a=b(""),i=b(""),c=F("i18nLanguage","zh"),p=h=>(i.value=i.value==h?"":h,_()),_=()=>{y("filterPlants",{name:a.value,family:i.value})},f=E(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id");return(h,n)=>(l(),o("div",be,[e("div",Ce,[n[1]||(n[1]=e("label",{for:"plant-search"},"Search:",-1)),S(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>a.value=s),placeholder:f.value,onInput:_},null,40,$e),[[z,a.value]]),v(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Me,[v(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(l(!0),o(u,null,$(t.familyNameMap,s=>(l(),o("div",{class:L(["filter-family-option",{selected:i.value===s.en}]),onClick:C=>p(s.en)},[e("img",{src:"/assets/wikicon/"+s.en+"_familyicon.webp",alt:s.en,class:L(s.en===i.value?"selected":"")},null,10,we)],10,Pe))),256))])]))}}),Ae=N(Ne,[["__scopeId","data-v-721d3f47"]]),Fe={class:"app"},Le={class:"container"},xe={class:"filter"},Ie={key:0},De={key:1},Oe={class:"container"},Ee={class:"sidebar"},Se={class:"content"},ze=w({__name:"App",setup(t){const r=x?.Almanac,y=x?.PlantFamily,a=F("i18nLanguage","zh"),i=b([]),c=j(a),p=b([]),_=b(null),f=n=>{_.value=n},h=n=>{const{name:s,family:C}=n;p.value=i.value.filter(g=>{const D=g.id.toString()==s||g.name.toLowerCase().includes(s.toLowerCase())||g.enName.toLowerCase().includes(s.toLowerCase())||g.codename.toLowerCase().includes(s.toLowerCase()),O=C==""||g.enFamily==C||C=="None"&&g.enFamily=="";return D&&O})};return i.value=B.map(n=>c[n]),p.value=i.value,f(p.value[0]),(n,s)=>(l(),o("div",Fe,[e("div",Le,[e("div",xe,[m(a)=="zh"?(l(),o("h1",Ie,"PvZ2 Gardendless 植物图鉴")):(l(),o("h1",De,"PvZ2 Gardendless Plants Almanac")),P(Ae,{onFilterPlants:h,familyNameMap:m(y)},null,8,["familyNameMap"])])]),e("div",Oe,[e("div",Ee,[P(W,{plants:p.value,onSelectPlant:f,plantMap:m(c)},null,8,["plants","plantMap"])]),e("div",Se,[_.value?(l(),I(ke,{key:0,keyMap:m(r),plant:_.value},null,8,["keyMap","plant"])):v("v-if",!0)])])]))}}),Te=N(ze,[["__scopeId","data-v-7ef5c10b"]]);export{Te as A};
