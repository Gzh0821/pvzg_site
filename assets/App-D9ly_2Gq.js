import{k as w,h as b,r as A,c as i,o as l,F as _,b as e,f as v,j as $,d as P,w as M,l as I,t as d,m as F,e as k,u,n as E,q as S,v as j,s as L}from"./app-PKan9tRb.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as z,p as B,i as x}from"./formatPlants-CvJul-Uw.js";const K=["onClick"],T=["src","alt"],V=["src","alt"],G=["src","alt"],R=w({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(t,{emit:r}){const y=r,a=b({}),o=(c,p=void 0)=>{p&&(a.value[p.codename]=!1),y("selectPlant",c)};return(c,p)=>{const m=A("a-col"),f=A("a-row"),h=A("a-popover");return l(),i(_,null,[e("ul",null,[(l(!0),i(_,null,$(t.plants,n=>(l(),i("li",{key:n.codename,onClick:s=>o(n)},[n.subPlants?(l(),i(_,{key:0},[P(h,{"arrow-point-at-center":"",trigger:"hover",open:a.value[n.codename],onOpenChange:s=>a.value[n.codename]=s,overlayInnerStyle:{border:c.$isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:c.$isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:M(()=>[P(f,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:M(()=>[(l(!0),i(_,null,$(n.subPlants.map(s=>t.plantMap[s]),s=>(l(),I(m,{key:s.codename,onClick:C=>o(s,n)},{default:M(()=>[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,T),e("p",null,d(s.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:M(()=>[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,V)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,d(n.name),1)],64)):(l(),i(_,{key:1},[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,G),e("p",null,d(n.name),1)],64))],8,K))),128))]),v(" </div> ")],2112)}}}),W=N(R,[["__scopeId","data-v-b1616e61"]]),Z={key:0,class:"plant-detail"},q={class:"details-container"},J={class:"plant-image"},U=["src","alt"],H={class:"plant-title"},Q=["src","alt"],X={class:"plant-stats"},Y={class:"ability"},ee=["src","alt"],te={class:"value"},ne={class:"details-container"},se={class:"plant-introduction"},ae={class:"description"},le={class:"descriptionKey"},oe={class:"description"},ie={class:"details-container"},ce={class:"plant-introduction"},de={class:"description"},re={class:"descriptionKey"},pe={class:"description"},ue={class:"descriptionKey"},me={class:"description"},_e={class:"descriptionKey"},ve={class:"description"},he={class:"descriptionKey"},ye=w({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(t){const r=F("i18nLanguage","zh");return(y,a)=>t.plant?(l(),i("div",Z,[e("div",q,[e("div",J,[e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,U),e("p",H,d(t.plant.name),1),t.plant.enFamily&&t.plant.enFamily!="None"?(l(),i("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,Q)):v("v-if",!0)]),e("div",X,[e("table",null,[e("tbody",null,[(l(!0),i(_,null,$(t.plant.elements,(o,c)=>(l(),i("tr",{key:c},[e("td",Y,[e("img",{src:t.keyMap[c].icon,alt:t.keyMap[c][u(r)]},null,8,ee),k(" "+d(t.keyMap[c][u(r)]),1)]),e("td",te,d(o),1)]))),128)),v(` <tr key="CodeName">
                        <td class="ability"> CodeName </td>
                        <td class="value">{{ plant.codename }}</td>
                    </tr> `)])])])]),e("div",ne,[e("div",se,[e("p",ae,d(t.plant.description),1),a[0]||(a[0]=e("br",null,null,-1)),(l(!0),i(_,null,$(t.plant.special,o=>(l(),i("p",{key:o.NAME[u(r)],class:"description"},[k(d(o.NAME[u(r)])+": ",1),e("span",le,d(o.DESCRIPTION[u(r)]),1)]))),128)),a[1]||(a[1]=e("br",null,null,-1)),e("p",oe,d(t.plant.chat),1)])]),e("div",ie,[e("div",ce,[e("p",de,[a[2]||(a[2]=k("CODENAME: ",-1)),e("span",re,d(t.plant.codename),1)]),e("p",pe,[a[3]||(a[3]=k("ID: ",-1)),e("span",ue,d(t.plant.id),1)]),e("p",me,[a[4]||(a[4]=k("OBTAINWORLD: ",-1)),e("span",_e,d(t.plant.obtainWorld),1)]),e("p",ve,[a[5]||(a[5]=k("Properties: ",-1)),e("span",he,d(t.plant.objdata),1)]),v(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):v("v-if",!0)}}),fe=N(ye,[["__scopeId","data-v-3add5d7f"]]),ge={class:"plant-filter"},ke={class:"search-input-group"},be=["placeholder"],Ce={class:"filter-family-group"},$e=["onClick"],Me=["src","alt"],Pe=w({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(t,{emit:r}){const y=r,a=b(""),o=b(""),c=F("i18nLanguage","zh"),p=h=>(o.value=o.value==h?"":h,m()),m=()=>{y("filterPlants",{name:a.value,family:o.value})},f=E(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id");return(h,n)=>(l(),i("div",ge,[e("div",ke,[n[1]||(n[1]=e("label",{for:"plant-search"},"Search:",-1)),S(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>a.value=s),placeholder:f.value,onInput:m},null,40,be),[[j,a.value]]),v(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Ce,[v(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(l(!0),i(_,null,$(t.familyNameMap,s=>(l(),i("div",{class:L(["filter-family-option",{selected:o.value===s.en}]),onClick:C=>p(s.en)},[e("img",{src:"/assets/wikicon/"+s.en+"_familyicon.webp",alt:s.en,class:L(s.en===o.value?"selected":"")},null,10,Me)],10,$e))),256))])]))}}),we=N(Pe,[["__scopeId","data-v-721d3f47"]]),Ne={class:"app"},Ae={class:"container"},Fe={class:"filter"},Le={key:0},xe={key:1},Ie={class:"container"},De={class:"sidebar"},Oe={class:"content"},Ee=w({__name:"App",setup(t){const r=x?.Almanac,y=x?.PlantFamily,a=F("i18nLanguage","zh"),o=b([]),c=z(a),p=b([]),m=b(null),f=n=>{m.value=n},h=n=>{const{name:s,family:C}=n;p.value=o.value.filter(g=>{const D=g.id.toString()==s||g.name.toLowerCase().includes(s.toLowerCase())||g.enName.toLowerCase().includes(s.toLowerCase())||g.codename.toLowerCase().includes(s.toLowerCase()),O=C==""||g.enFamily==C||C=="None"&&g.enFamily=="";return D&&O})};return o.value=B.map(n=>c[n]),p.value=o.value,f(p.value[0]),(n,s)=>(l(),i("div",Ne,[e("div",Ae,[e("div",Fe,[u(a)=="zh"?(l(),i("h1",Le,"PvZ2 Gardendless 植物图鉴")):(l(),i("h1",xe,"PvZ2 Gardendless Plants Almanac")),P(we,{onFilterPlants:h,familyNameMap:u(y)},null,8,["familyNameMap"])])]),e("div",Ie,[e("div",De,[P(W,{plants:p.value,onSelectPlant:f,plantMap:u(c)},null,8,["plants","plantMap"])]),e("div",Oe,[m.value?(l(),I(fe,{key:0,keyMap:u(r),plant:m.value},null,8,["keyMap","plant"])):v("v-if",!0)])])]))}}),Be=N(Ee,[["__scopeId","data-v-7ef5c10b"]]);export{Be as A};
