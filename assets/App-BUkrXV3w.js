import{k as P,f as k,r as A,c as i,o as l,F as v,b as e,h,i as C,d as M,w as $,l as D,t as r,m as F,e as g,u,n as S,q as z,v as j,s as L}from"./app-BSmGkbAr.js";import{_ as w}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as B,p as K,i as I}from"./formatPlants-x-NPM9Go.js";const T=["onClick"],V=["src","alt"],G=["src","alt"],R=["src","alt"],W=P({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(N,{emit:d}){const t=d,a=k({}),o=(c,p=void 0)=>{p&&(a.value[p.codename]=!1),t("selectPlant",c)};return(c,p)=>{const _=A("a-col"),y=A("a-row"),m=A("a-popover");return l(),i(v,null,[e("ul",null,[(l(!0),i(v,null,C(c.plants,s=>(l(),i("li",{key:s.codename,onClick:n=>o(s)},[s.subPlants?(l(),i(v,{key:0},[M(m,{"arrow-point-at-center":"",trigger:"hover",open:a.value[s.codename],onOpenChange:n=>a.value[s.codename]=n,overlayInnerStyle:{border:c.$isDarkMode?"3px solid #deb991":"3px solid #432b1a",backgroundColor:c.$isDarkMode?"#383011":"#ede5c4",textAlign:"center"}},{content:$(()=>[M(y,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:$(()=>[(l(!0),i(v,null,C(s.subPlants.map(n=>c.plantMap[n]),n=>(l(),D(_,{key:n.codename,onClick:b=>o(n,s)},{default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+n.codename+"_c.webp",alt:n.name},null,8,V),e("p",null,r(n.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,G)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,r(s.name),1)],64)):(l(),i(v,{key:1},[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,R),e("p",null,r(s.name),1)],64))],8,T))),128))]),h(" </div> ")],2112)}}}),Z=w(W,[["__scopeId","data-v-b1616e61"]]),q={key:0,class:"plant-detail"},J={class:"details-container"},U={class:"plant-image"},H=["src","alt"],Q={class:"plant-title"},X=["src","alt"],Y={class:"plant-stats"},x={class:"ability"},ee=["src","alt"],te={class:"value"},se={class:"details-container"},ne={class:"plant-introduction"},ae={class:"description"},le={class:"descriptionKey"},oe={class:"description"},ie={class:"details-container"},ce={class:"plant-introduction"},re={class:"description"},de={class:"descriptionKey"},pe={class:"description"},ue={class:"descriptionKey"},_e={class:"description"},me={class:"descriptionKey"},ve={class:"description"},he={class:"descriptionKey"},ye=P({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(N){const d=F("i18nLanguage","zh");return(t,a)=>t.plant?(l(),i("div",q,[e("div",J,[e("div",U,[e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,H),e("p",Q,r(t.plant.name),1),t.plant.enFamily&&t.plant.enFamily!="None"?(l(),i("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,X)):h("v-if",!0)]),e("div",Y,[e("table",null,[e("tbody",null,[(l(!0),i(v,null,C(t.plant.elements,(o,c)=>(l(),i("tr",{key:c},[e("td",x,[e("img",{src:t.keyMap[c].icon,alt:t.keyMap[c][u(d)]},null,8,ee),g(" "+r(t.keyMap[c][u(d)]),1)]),e("td",te,r(o),1)]))),128)),h(` <tr key="CodeName">
                        <td class="ability"> CodeName </td>
                        <td class="value">{{ plant.codename }}</td>
                    </tr> `)])])])]),e("div",se,[e("div",ne,[e("p",ae,r(t.plant.description),1),a[0]||(a[0]=e("br",null,null,-1)),(l(!0),i(v,null,C(t.plant.special,o=>(l(),i("p",{key:o.NAME[u(d)],class:"description"},[g(r(o.NAME[u(d)])+": ",1),e("span",le,r(o.DESCRIPTION[u(d)]),1)]))),128)),a[1]||(a[1]=e("br",null,null,-1)),e("p",oe,r(t.plant.chat),1)])]),e("div",ie,[e("div",ce,[e("p",re,[a[2]||(a[2]=g("CODENAME: ",-1)),e("span",de,r(t.plant.codename),1)]),e("p",pe,[a[3]||(a[3]=g("ID: ",-1)),e("span",ue,r(t.plant.id),1)]),e("p",_e,[a[4]||(a[4]=g("OBTAINWORLD: ",-1)),e("span",me,r(t.plant.obtainWorld),1)]),e("p",ve,[a[5]||(a[5]=g("Properties: ",-1)),e("span",he,r(t.plant.objdata),1)]),h(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):h("v-if",!0)}}),fe=w(ye,[["__scopeId","data-v-3add5d7f"]]),ge={class:"plant-filter"},ke={class:"search-input-group"},be=["placeholder"],Ce={class:"filter-family-group"},$e=["onClick"],Me=["src","alt"],Pe=P({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(N,{emit:d}){const t=d,a=k(""),o=k(""),c=F("i18nLanguage","zh"),p=m=>(o.value=o.value==m?"":m,_()),_=()=>{t("filterPlants",{name:a.value,family:o.value})},y=S(()=>c==="zh"?"输入植物名称或id":"Enter plant name or id");return(m,s)=>(l(),i("div",ge,[e("div",ke,[s[1]||(s[1]=e("label",{for:"plant-search"},"Search:",-1)),z(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n),placeholder:y.value,onInput:_},null,40,be),[[j,a.value]]),h(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Ce,[h(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(l(!0),i(v,null,C(m.familyNameMap,n=>(l(),i("div",{class:L(["filter-family-option",{selected:o.value===n.en}]),onClick:b=>p(n.en)},[e("img",{src:"/assets/wikicon/"+n.en+"_familyicon.webp",alt:n.en,class:L(n.en===o.value?"selected":"")},null,10,Me)],10,$e))),256))])]))}}),we=w(Pe,[["__scopeId","data-v-721d3f47"]]),Ne={class:"app"},Ae={class:"container"},Fe={class:"filter"},Le={key:0},Ie={key:1},De={class:"container"},Oe={class:"sidebar"},Ee={class:"content"},Se=P({__name:"App",setup(N){const d=I?.Almanac,t=I?.PlantFamily,a=F("i18nLanguage","zh"),o=k([]),c=B(a),p=k([]),_=k(null),y=s=>{_.value=s},m=s=>{const{name:n,family:b}=s;p.value=o.value.filter(f=>{const O=f.id.toString()==n||f.name.toLowerCase().includes(n.toLowerCase())||f.enName.toLowerCase().includes(n.toLowerCase())||f.codename.toLowerCase().includes(n.toLowerCase()),E=b==""||f.enFamily==b||b=="None"&&f.enFamily=="";return O&&E})};return o.value=K.map(s=>c[s]),p.value=o.value,y(p.value[0]),(s,n)=>(l(),i("div",Ne,[e("div",Ae,[e("div",Fe,[u(a)=="zh"?(l(),i("h1",Le,"PvZ2 Gardendless 植物图鉴")):(l(),i("h1",Ie,"PvZ2 Gardendless Plants Almanac")),M(we,{onFilterPlants:m,familyNameMap:u(t)},null,8,["familyNameMap"])])]),e("div",De,[e("div",Oe,[M(Z,{plants:p.value,onSelectPlant:y,plantMap:u(c)},null,8,["plants","plantMap"])]),e("div",Ee,[_.value?(l(),D(fe,{key:0,keyMap:u(d),plant:_.value},null,8,["keyMap","plant"])):h("v-if",!0)])])]))}}),Ke=w(Se,[["__scopeId","data-v-7ef5c10b"]]);export{Ke as A};
