import{k as P,f as C,r as F,c as i,o as n,F as g,b as e,h as _,i as w,d as M,u,w as $,l as E,t as c,m as I,e as k,n as T,q as j,v as B,s as D}from"./app-BbR2Pgbm.js";import{u as K}from"./useDarkMode-CNPyZ-di.js";import{_ as N}from"./plugin-vue_export-helper-DlAUqK2U.js";import{g as V,p as W,i as O}from"./formatPlants-BDjI6xVT.js";const G=["onClick"],R=["src","alt"],Z=["src","alt"],q=["src","alt"],J=P({__name:"PlantCatalog",props:{plants:{},plantMap:{}},emits:["selectPlant"],setup(A,{emit:d}){const t=K(),a=d,l=C({}),r=(p,m=void 0)=>{m&&(l.value[m.codename]=!1),a("selectPlant",p)};return(p,m)=>{const f=F("a-col"),h=F("a-row"),v=F("a-popover");return n(),i(g,null,[e("ul",null,[(n(!0),i(g,null,w(p.plants,s=>(n(),i("li",{key:s.id,onClick:o=>r(s)},[s.subPlants?(n(),i(g,{key:0},[M(v,{"arrow-point-at-center":"",trigger:"hover",open:l.value[s.codename],onOpenChange:o=>l.value[s.codename]=o,overlayInnerStyle:{border:u(t)?"3px solid #deb991":"3px solid #432b1a",backgroundColor:u(t)?"#383011":"#ede5c4",textAlign:"center"}},{content:$(()=>[M(h,{gutter:[16,{xs:8,sm:16,md:24,lg:32}],justify:"center"},{default:$(()=>[(n(!0),i(g,null,w(s.subPlants.map(o=>p.plantMap[o]),o=>(n(),E(f,{key:o.id,onClick:y=>r(o,s)},{default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+o.codename+"_c.webp",alt:o.name},null,8,R),e("p",null,c(o.name),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:$(()=>[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,Z)]),_:2},1032,["open","onOpenChange","overlayInnerStyle"]),e("p",null,c(s.name),1)],64)):(n(),i(g,{key:1},[e("img",{src:"/assets/image/plants/plants_"+s.codename+"_c.webp",alt:s.name},null,8,q),e("p",null,c(s.name),1)],64))],8,G))),128))]),_(" </div> ")],2112)}}}),U=N(J,[["__scopeId","data-v-a1d33d04"]]),H={key:0,class:"plant-detail"},Q={class:"details-container"},X={class:"plant-image"},Y=["src","alt"],x={class:"plant-title"},ee=["src","alt"],te={class:"plant-stats"},se={class:"ability"},ae=["src"],ne={class:"value"},le={class:"details-container"},oe={class:"plant-introduction"},ie={class:"description"},ce={class:"descriptionKey"},re={class:"description"},pe={class:"details-container"},de={class:"plant-introduction"},me={class:"description"},_e={class:"descriptionKey"},ue={class:"description"},ve={class:"descriptionKey"},he={class:"description"},ge={class:"descriptionKey"},fe={class:"description"},ye={class:"descriptionKey"},be=P({__name:"PlantDetail",props:{plant:{},keyMap:{}},setup(A){const d=I("i18nLanguage","zh");return(t,a)=>t.plant?(n(),i("div",H,[e("div",Q,[e("div",X,[_(` <img :src="'/assets/wikiplants/' + plant.enName.replace(/\\s+/g, '_').replace(/[\\']/g, '') + '2.webp'"
                    :alt="plant.name"> `),_(` <div class="plant-image-frame">
                    <img class="plant-img" :src="'/assets/image/plants-tp/plants_' + plant.plantType + '_0.webp'"
                        :alt="plant.name">
                    <img class="frame-img"
                        :src="'/assets/image/plants-frame/background_' + plant.frameWorld + '_0.webp'"
                        :alt="plant.frameWorld">
                </div> `),e("img",{src:"/assets/image/plants/plants_"+t.plant.codename+"_c.webp",alt:t.plant.name},null,8,Y),e("p",x,c(t.plant.name),1),t.plant.enFamily?(n(),i("img",{key:0,src:"/assets/wikicon/"+t.plant.enFamily+"_familyicon.webp",alt:t.plant.enFamily,class:"family-img"},null,8,ee)):_("v-if",!0)]),e("div",te,[e("table",null,[e("tbody",null,[(n(!0),i(g,null,w(t.plant.elements,(l,r)=>(n(),i("tr",{key:r},[e("td",se,[e("img",{src:t.keyMap[r].icon},null,8,ae),k(" "+c(t.keyMap[r][u(d)]),1)]),e("td",ne,c(l),1)]))),128)),_(` <tr key="CodeName">
                            <td class="ability"> CodeName </td>
                            <td class="value">{{ plant.codename }}</td>
                        </tr> `)])])])]),e("div",le,[e("div",oe,[e("p",ie,c(t.plant.description),1),a[0]||(a[0]=e("br",null,null,-1)),(n(!0),i(g,null,w(t.plant.special,l=>(n(),i("p",{key:l.NAME[u(d)],class:"description"},[k(c(l.NAME[u(d)])+": ",1),e("span",ce,c(l.DESCRIPTION[u(d)]),1)]))),128)),a[1]||(a[1]=e("br",null,null,-1)),e("p",re,c(t.plant.chat),1)])]),e("div",pe,[e("div",de,[e("p",me,[a[2]||(a[2]=k("CODENAME: ")),e("span",_e,c(t.plant.codename),1)]),e("p",ue,[a[3]||(a[3]=k("ID: ")),e("span",ve,c(t.plant.id),1)]),e("p",he,[a[4]||(a[4]=k("OBTAINWORLD: ")),e("span",ge,c(t.plant.obtainWorld),1)]),e("p",fe,[a[5]||(a[5]=k("Properties: ")),e("span",ye,c(t.plant.objdata),1)]),_(' <br><p class="description">Objdata:{{ plant.objdata }}</p> ')])])])):_("v-if",!0)}}),ke=N(be,[["__scopeId","data-v-00540d6b"]]),Ce={class:"plant-filter"},we={class:"search-input-group"},$e=["placeholder"],Me={class:"filter-family-group"},Pe=["onClick"],Ne=["src","alt"],Ae=P({__name:"PlantFilter",props:{familyNameMap:{}},emits:["filterPlants"],setup(A,{emit:d}){const t=d,a=C(""),l=C(""),r=I("i18nLanguage","zh"),p=h=>(l.value=l.value==h?"":h,m()),m=()=>{t("filterPlants",{name:a.value,family:l.value})},f=T(()=>r==="zh"?"输入植物名称或id":"Enter plant name or id");return(h,v)=>(n(),i("div",Ce,[e("div",we,[v[1]||(v[1]=e("label",{for:"plant-search"},"Search:",-1)),j(e("input",{id:"plant-search",type:"text","onUpdate:modelValue":v[0]||(v[0]=s=>a.value=s),placeholder:f.value,onInput:m},null,40,$e),[[B,a.value]]),_(` <select v-model="selectedAttribute" @change="handleFilter">
            <option value="">所有植物</option>
            <option value="sun">向日葵类</option>
            <option value="shooter">射手类</option>
        </select> `)]),e("div",Me,[_(` <div class="filter-family-option" :class="{ selected: selectedAttribute === '' }"
                @click="selectAttribute('')">
                <p>All</p>
            </div> `),(n(!0),i(g,null,w(h.familyNameMap,s=>(n(),i("div",{class:D(["filter-family-option",{selected:l.value===s.en}]),onClick:o=>p(s.en)},[e("img",{src:"/assets/wikicon/"+s.en+"_familyicon.webp",alt:s.en,class:D(s.en===l.value?"selected":"")},null,10,Ne)],10,Pe))),256))])]))}}),Le=N(Ae,[["__scopeId","data-v-8093ae1d"]]),Fe={class:"app"},Ie={class:"container"},De={class:"filter"},Oe={key:0},Ee={key:1},Se={class:"container"},ze={class:"sidebar"},Te={class:"content"},je=P({__name:"App",setup(A){var v,s;const d=(v=O)==null?void 0:v.Almanac,t=(s=O)==null?void 0:s.PlantFamily,a=I("i18nLanguage","zh"),l=C([]),r=V(a),p=C([]),m=C(null),f=o=>{m.value=o},h=o=>{const{name:y,family:L}=o;p.value=l.value.filter(b=>{const S=b.id.toString()==y||b.name.toLowerCase().includes(y.toLowerCase())||b.enName.toLowerCase().includes(y.toLowerCase())||b.codename.toLowerCase().includes(y.toLowerCase()),z=L==""||b.enFamily==L||L=="None"&&b.enFamily=="";return S&&z})};return l.value=W.map(o=>r[o]),p.value=l.value,f(p.value[0]),(o,y)=>(n(),i("div",Fe,[e("div",Ie,[e("div",De,[u(a)=="zh"?(n(),i("h1",Oe,"PvZ2 Gardendless 植物图鉴")):(n(),i("h1",Ee,"PvZ2 Gardendless Plants Almanac")),M(Le,{onFilterPlants:h,familyNameMap:u(t)},null,8,["familyNameMap"])])]),e("div",Se,[e("div",ze,[M(U,{plants:p.value,onSelectPlant:f,plantMap:u(r)},null,8,["plants","plantMap"])]),e("div",Te,[m.value?(n(),E(ke,{key:0,keyMap:u(d),plant:m.value},null,8,["keyMap","plant"])):_("v-if",!0)])])]))}}),Ge=N(je,[["__scopeId","data-v-f66f4220"]]);export{Ge as A};
