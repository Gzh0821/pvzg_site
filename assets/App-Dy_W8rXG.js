import{d as _,I as P,k as ue,m as me,f as U,H as Z,J as fe,n as he,a as pe,K as Ee,r as f,c as j,o as B,F as V,b as g,u as c,w as d,e as L,t as y,i as Ce,l as ye,s as Se,L as Ke,M as be,x as K}from"./app-B5peG0nd.js";import{v as Te}from"./version-CGylwPNp.js";import{t as W}from"./index-BpGRn6MN.js";import{_ as ge}from"./plugin-vue_export-helper-DlAUqK2U.js";var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};function z(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),r.forEach(function(i){Le(n,i,a[i])})}return n}function Le(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var M=function(t,a){var r=z({},t,a.attrs);return _(P,z({},r,{icon:Ge}),null)};M.displayName="FileAddOutlined";M.inheritAttrs=!1;var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};function $(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),r.forEach(function(i){ve(n,i,a[i])})}return n}function ve(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var D=function(t,a){var r=$({},t,a.attrs);return _(P,$({},r,{icon:Ae}),null)};D.displayName="SaveOutlined";D.inheritAttrs=!1;var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};function Q(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),r.forEach(function(i){Oe(n,i,a[i])})}return n}function Oe(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var Y=function(t,a){var r=Q({},t,a.attrs);return _(P,Q({},r,{icon:Fe}),null)};Y.displayName="UndoOutlined";Y.inheritAttrs=!1;var Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function J(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),r.forEach(function(i){Pe(n,i,a[i])})}return n}function Pe(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var w=function(t,a){var r=J({},t,a.attrs);return _(P,J({},r,{icon:Ie}),null)};w.displayName="UploadOutlined";w.inheritAttrs=!1;const Ne="SPACE",Re="KEY_V",Ue="DIGIT_1",Be="DIGIT_2",Me="DIGIT_3",De="DIGIT_4",Ye="KEY_Q",we="KEY_W",ke="KEY_E",He="KEY_R",xe="KEY_F",Ze="KEY_D",je="KEY_A",Ve="F3",We="KEY_X",ze="KEY_Z",$e="BACK_QUOTE",Qe="KEY_B",Je="KEY_B",qe="KEY_I",Xe="KEY_M",et="KEY_D",tt="KEY_C",at="KEY_A",nt="BACK_QUOTE",ot="TAB",rt="BACKSPACE",it="ENTER",st="ARROW_LEFT",_t="ARROW_RIGHT",lt="TAB",ct="F1",dt="F2",ut="F5",mt="F7",ft="F6",ht="DIGIT_2",pt="KEY_W",Et="KEY_S",Ct="KEY_X",yt="ALT_LEFT",St="https://docs.cocos.com/creator/3.8/api/zh/enumeration/KeyCode",u={Game_Pause:Ne,Game_SpeedUp:Re,Game_Card1:Ue,Game_Card2:Be,Game_Card3:Me,Game_Card4:De,Game_Card5:Ye,Game_Card6:we,Game_Card7:ke,Game_Card8:He,Game_Plantfood:xe,Game_Shovel:Ze,Game_CollectAll:je,Game_UIUpper:Ve,Game_ConveyorForward:We,Game_ConveyorBackward:ze,Game_HideUI:$e,Game_BananaLauncher:Qe,Game_MissileToe:Je,Game_IceShroom:qe,ZenGarden_Glove:Xe,ZenGarden_Shovel:et,ZenGarden_Cart:tt,ZenGarden_DealWithAll:at,ZenGarden_HideUI:nt,ZenGarden_Next:ot,Sandbox_PushTide:rt,Sandbox_PullTide:it,Sandbox_PushTideBy1Square:st,Sandbox_PullTideBy1Square:_t,Sandbox_ChangeJam:lt,Sandbox_SummonZombies:ct,Sandbox_ChangeLawn:dt,Sandbox_TimeFreeze:ut,Sandbox_SwitchMusic:mt,Sandbox_Settings:ft,Rhythm_PhatBeet1:ht,Rhythm_PhatBeet2:pt,Rhythm_PhatBeet3:Et,Rhythm_PhatBeet4:Ct,Rhythm_PhatBeet5:yt,__KeyCodeList__:St},Kt={title:"PvZ2 Gardendless 键位绑定器",gameVersion:"游戏版本: v{version}",instructions:"点击下方的输入框以修改键位。要恢复默认键位，请点击右侧的删除图标。",restoreDefault:"恢复默认",saveConfig:"保存配置",revertChanges:"撤销更改",uploadKeybinds:"上传配置",newDefaultKeybinds:"新建默认配置",pressKeyPrompt:"请按键",bindingNewKeyFor:"正在为 {action} 绑定新的按键...",pressAnyKey:"请按任意键",pressEscToCancel:"按 Esc 键取消",cannotBindModifier:"无法绑定修饰键 (如 Ctrl, Shift, Alt)。",keyAlreadyBound:'注意:按键 "{key}" 已被 "{action}" 使用。',restoredToDefault:'"{action}" 已恢复为初始文件中的默认值。',allResetToDefault:"所有键位已重置为初始设置。",changesReverted:"所有更改已撤销。",configSavedSuccess:"键位配置已成功保存！",uploadSuccess:"键位配置上传成功！",invalidFileFormat:"无效的文件格式。",errorReadingFile:"读取文件时出错。",newDefaultKeybindsSuccess:"已成功加载默认键位配置。",actions:{Game_Pause:"游戏暂停",Game_SpeedUp:"游戏加速",Game_Card1:"卡片槽 1",Game_Card2:"卡片槽 2",Game_Card3:"卡片槽 3",Game_Card4:"卡片槽 4",Game_Card5:"卡片槽 5",Game_Card6:"卡片槽 6",Game_Card7:"卡片槽 7",Game_Card8:"卡片槽 8",Game_Plantfood:"植物养料",Game_Shovel:"铲子",Game_CollectAll:"收集所有",Game_UIUpper:"界面上移",Game_ConveyorForward:"传送带前进",Game_ConveyorBackward:"传送带后退",Game_HideUI:"隐藏界面",Game_BananaLauncher:"香蕉火箭炮",Game_MissileToe:"槲寄生",Game_IceShroom:"寒冰菇",ZenGarden_Glove:"禅境花园手套",ZenGarden_Shovel:"禅境花园铲子",ZenGarden_Cart:"禅境花园推车",ZenGarden_DealWithAll:"禅境花园全部处理",ZenGarden_HideUI:"禅境花园隐藏界面",ZenGarden_Next:"禅境花园下一个",Sandbox_PushTide:"沙盒模式涨潮",Sandbox_PullTide:"沙盒模式退潮",Sandbox_PushTideBy1Square:"沙盒模式涨潮一格",Sandbox_PullTideBy1Square:"沙盒模式退潮一格",Sandbox_ChangeJam:"沙盒模式改变音乐",Sandbox_SummonZombies:"沙盒模式召唤僵尸",Sandbox_ChangeLawn:"沙盒模式改变草坪",Sandbox_TimeFreeze:"沙盒模式时间冻结",Sandbox_SwitchMusic:"沙盒模式切换音乐",Sandbox_Settings:"沙盒模式设置",Rhythm_PhatBeet1:"节奏游戏甜菜1",Rhythm_PhatBeet2:"节奏游戏甜菜2",Rhythm_PhatBeet3:"节奏游戏甜菜3",Rhythm_PhatBeet4:"节奏游戏甜菜4",Rhythm_PhatBeet5:"节奏游戏甜菜5"},keybinds:{KEY_A:"A",KEY_B:"B",KEY_C:"C",KEY_D:"D",KEY_E:"E",KEY_F:"F",KEY_G:"G",KEY_H:"H",KEY_I:"I",KEY_J:"J",KEY_K:"K",KEY_L:"L",KEY_M:"M",KEY_N:"N",KEY_O:"O",KEY_P:"P",KEY_Q:"Q",KEY_R:"R",KEY_S:"S",KEY_T:"T",KEY_U:"U",KEY_V:"V",KEY_W:"W",KEY_X:"X",KEY_Y:"Y",KEY_Z:"Z",DIGIT_0:"0",DIGIT_1:"1",DIGIT_2:"2",DIGIT_3:"3",DIGIT_4:"4",DIGIT_5:"5",DIGIT_6:"6",DIGIT_7:"7",DIGIT_8:"8",DIGIT_9:"9",ARROW_UP:"上箭头",ARROW_DOWN:"下箭头",ARROW_LEFT:"左箭头",ARROW_RIGHT:"右箭头",SPACE:"空格",ENTER:"回车",BACKSPACE:"退格",TAB:"Tab",BACK_QUOTE:"反引号 (`)",ALT_LEFT:"左 Alt",ALT_RIGHT:"右 Alt",SHIFT_LEFT:"左 Shift",SHIFT_RIGHT:"右 Shift",CTRL_LEFT:"左 Ctrl",CTRL_RIGHT:"右 Ctrl",ESCAPE:"Esc",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",MOBILE_BACK:"移动端返回键",PAUSE:"暂停键",CAPS_LOCK:"大写锁定键",PAGE_UP:"向上翻页键",PAGE_DOWN:"向下翻页键",END:"结束键",HOME:"主菜单键",INSERT:"插入键",DELETE:"删除键",NUM_0:"数字键盘 0",NUM_1:"数字键盘 1",NUM_2:"数字键盘 2",NUM_3:"数字键盘 3",NUM_4:"数字键盘 4",NUM_5:"数字键盘 5",NUM_6:"数字键盘 6",NUM_7:"数字键盘 7",NUM_8:"数字键盘 8",NUM_9:"数字键盘 9",NUM_MULTIPLY:"数字键盘 *",NUM_PLUS:"数字键盘 +",NUM_SUBTRACT:"数字键盘 -",NUM_DECIMAL:"数字键盘 .",NUM_DIVIDE:"数字键盘 /",NUM_LOCK:"数字锁定键",SCROLL_LOCK:"滚动锁定键",SEMICOLON:"分号 ;",EQUAL:"等于 =",COMMA:"逗号 ,",DASH:"中划线 -",PERIOD:"句号 .",SLASH:"正斜杠 /",BRACKET_LEFT:"左方括号 [",BACKSLASH:"反斜杠 \\",BRACKET_RIGHT:"右方括号 ]",QUOTE:"单引号 ''",NUM_ENTER:"数字键盘回车"}},bt={title:"PvZ2 Gardendless Keybind Editor",gameVersion:"Game Version: v{version}",instructions:"Click the input box below to change the keybind. To restore the default keybind, click the delete icon on the right.",restoreDefault:"Restore Default",saveConfig:"Save",revertChanges:"Revert Changes",uploadKeybinds:"Upload",newDefaultKeybinds:"New Default Config",pressKeyPrompt:"Press a key",bindingNewKeyFor:"Binding new key for {action}...",pressAnyKey:"Press any key",pressEscToCancel:"Press Esc to cancel",cannotBindModifier:"Cannot bind modifier keys (e.g., Ctrl, Shift, Alt).",keyAlreadyBound:'Note: Key "{key}" is already used by "{action}".',restoredToDefault:'"{action}" has been restored to its default value from the initial file.',allResetToDefault:"All keybinds have been reset to initial settings.",changesReverted:"All changes have been reverted.",configSavedSuccess:"Keybind configuration saved successfully!",uploadSuccess:"Keybind configuration uploaded successfully!",invalidFileFormat:"Invalid file format.",errorReadingFile:"Error reading file.",newDefaultKeybindsSuccess:"Successfully loaded default keybind configuration.",actions:{Game_Pause:"Game Pause",Game_SpeedUp:"Game Speed Up",Game_Card1:"Card Slot 1",Game_Card2:"Card Slot 2",Game_Card3:"Card Slot 3",Game_Card4:"Card Slot 4",Game_Card5:"Card Slot 5",Game_Card6:"Card Slot 6",Game_Card7:"Card Slot 7",Game_Card8:"Card Slot 8",Game_Plantfood:"Plant Food",Game_Shovel:"Shovel",Game_CollectAll:"Collect All",Game_UIUpper:"UI Upper",Game_ConveyorForward:"Conveyor Forward",Game_ConveyorBackward:"Conveyor Backward",Game_HideUI:"Hide UI",Game_BananaLauncher:"Banana Launcher",Game_MissileToe:"Missile Toe",Game_IceShroom:"Ice-shroom",ZenGarden_Glove:"Zen Garden Glove",ZenGarden_Shovel:"Zen Garden Shovel",ZenGarden_Cart:"Zen Garden Cart",ZenGarden_DealWithAll:"Zen Garden Deal With All",ZenGarden_HideUI:"Zen Garden Hide UI",ZenGarden_Next:"Zen Garden Next",Sandbox_PushTide:"Sandbox Push Tide",Sandbox_PullTide:"Sandbox Pull Tide",Sandbox_PushTideBy1Square:"Sandbox Push Tide By 1 Square",Sandbox_PullTideBy1Square:"Sandbox Pull Tide By 1 Square",Sandbox_ChangeJam:"Sandbox Change Jam",Sandbox_SummonZombies:"Sandbox Summon Zombies",Sandbox_ChangeLawn:"Sandbox Change Lawn",Sandbox_TimeFreeze:"Sandbox Time Freeze",Sandbox_SwitchMusic:"Sandbox Switch Music",Sandbox_Settings:"Sandbox Settings",Rhythm_PhatBeet1:"Rhythm Phat Beet 1",Rhythm_PhatBeet2:"Rhythm Phat Beet 2",Rhythm_PhatBeet3:"Rhythm Phat Beet 3",Rhythm_PhatBeet4:"Rhythm Phat Beet 4",Rhythm_PhatBeet5:"Rhythm Phat Beet 5"},keybinds:{KEY_A:"A",KEY_B:"B",KEY_C:"C",KEY_D:"D",KEY_E:"E",KEY_F:"F",KEY_G:"G",KEY_H:"H",KEY_I:"I",KEY_J:"J",KEY_K:"K",KEY_L:"L",KEY_M:"M",KEY_N:"N",KEY_O:"O",KEY_P:"P",KEY_Q:"Q",KEY_R:"R",KEY_S:"S",KEY_T:"T",KEY_U:"U",KEY_V:"V",KEY_W:"W",KEY_X:"X",KEY_Y:"Y",KEY_Z:"Z",DIGIT_0:"0",DIGIT_1:"1",DIGIT_2:"2",DIGIT_3:"3",DIGIT_4:"4",DIGIT_5:"5",DIGIT_6:"6",DIGIT_7:"7",DIGIT_8:"8",DIGIT_9:"9",ARROW_UP:"Up Arrow",ARROW_DOWN:"Down Arrow",ARROW_LEFT:"Left Arrow",ARROW_RIGHT:"Right Arrow",SPACE:"Space",ENTER:"Enter",BACKSPACE:"Backspace",TAB:"Tab",BACK_QUOTE:"Backquote (`)",ALT_LEFT:"Left Alt",ALT_RIGHT:"Right Alt",SHIFT_LEFT:"Left Shift",SHIFT_RIGHT:"Right Shift",CTRL_LEFT:"Left Ctrl",CTRL_RIGHT:"Right Ctrl",ESCAPE:"Esc",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",MOBILE_BACK:"Mobile Back",PAUSE:"Pause",CAPS_LOCK:"Caps Lock",PAGE_UP:"Page Up",PAGE_DOWN:"Page Down",END:"End",HOME:"Home",INSERT:"Insert",DELETE:"Delete",NUM_0:"Numpad 0",NUM_1:"Numpad 1",NUM_2:"Numpad 2",NUM_3:"Numpad 3",NUM_4:"Numpad 4",NUM_5:"Numpad 5",NUM_6:"Numpad 6",NUM_7:"Numpad 7",NUM_8:"Numpad 8",NUM_9:"Numpad 9",NUM_MULTIPLY:"Numpad *",NUM_PLUS:"Numpad +",NUM_SUBTRACT:"Numpad -",NUM_DECIMAL:"Numpad .",NUM_DIVIDE:"Numpad /",NUM_LOCK:"Num Lock",SCROLL_LOCK:"Scroll Lock",SEMICOLON:"Semicolon ;",EQUAL:"Equal =",COMMA:"Comma ,",DASH:"Dash -",PERIOD:"Period .",SLASH:"Slash /",BRACKET_LEFT:"Left Bracket [",BACKSLASH:"Backslash \\",BRACKET_RIGHT:"Right Bracket ]",QUOTE:"Quote ''",NUM_ENTER:"Numpad Enter"}},Tt={zh:Kt,en:bt},gt={class:"keybind-editor-container"},Gt=["innerHTML"],Lt={class:"binding-modal-content"},At={class:"key-prompt"},vt=ue({__name:"App",setup(n){const t=me("i18nLanguage","en"),a=Te.gameVersion,r=u,i=U(null),p=Z({...u}),o=Z({...u}),C=U(null),A=U(!1),{t:l,locale:q}=fe({locale:t,fallbackLocale:"en",messages:Tt});q.value=t;const v=he(()=>{const e={};for(const s in u)s!=="__KeyCodeList__"&&(e[s]=o[s]||"");return e}),N=e=>l(`actions.${e}`,e?e.replace(/_/g," "):""),k=e=>e?l(`keybinds.${e}`,e):"",X=e=>{if(["Meta","Control","Shift","Alt"].includes(e.key))return"";if(e.code.startsWith("Key"))return`KEY_${e.code.slice(3)}`;if(e.code.startsWith("Digit"))return`DIGIT_${e.code.slice(5)}`;if(e.code.startsWith("Arrow"))return`ARROW_${e.key.replace("Arrow","").toUpperCase()}`;if(e.code.startsWith("Numpad")){if(e.code==="NumpadEnter")return"NUM_ENTER";if(e.code==="NumpadMultiply")return"NUM_MULTIPLY";if(e.code==="NumpadAdd")return"NUM_PLUS";if(e.code==="NumpadSubtract")return"NUM_SUBTRACT";if(e.code==="NumpadDecimal")return"NUM_DECIMAL";if(e.code==="NumpadDivide")return"NUM_DIVIDE";const m=e.code.match(/Numpad(\d)/);if(m&&m[1])return`NUM_${m[1]}`}return{Space:"SPACE",Enter:"ENTER",Backspace:"BACKSPACE",Tab:"TAB",Backquote:"BACK_QUOTE",AltLeft:"ALT_LEFT",AltRight:"ALT_RIGHT",ShiftLeft:"SHIFT_LEFT",ShiftRight:"SHIFT_RIGHT",ControlLeft:"CONTROL_LEFT",ControlRight:"CONTROL_RIGHT",Escape:"ESCAPE",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Pause:"PAUSE",CapsLock:"CAPS_LOCK",PageUp:"PAGE_UP",PageDown:"PAGE_DOWN",End:"END",Home:"HOME",Insert:"INSERT",Delete:"DELETE",NumLock:"NUM_LOCK",ScrollLock:"SCROLL_LOCK",Semicolon:"SEMICOLON",Equal:"EQUAL",Comma:"COMMA",Minus:"DASH",Period:"PERIOD",Slash:"SLASH",BracketLeft:"BRACKET_LEFT",Backslash:"BACKSLASH",BracketRight:"BRACKET_RIGHT",Quote:"QUOTE"}[e.code]||e.code.toUpperCase()},ee=e=>u[e]!==o[e],H=e=>{if(!C.value)return;if(e.preventDefault(),e.stopPropagation(),e.key==="Escape"){R();return}const s=X(e);if(!s){K.warning(l("cannotBindModifier"));return}for(const m in v.value)o[m]===s&&m!==C.value&&K.warning(l("keyAlreadyBound",{key:k(s),action:N(m)}));o[C.value]=s,C.value=null,A.value=!1},te=e=>{C.value=e,A.value=!0},R=()=>{C.value=null,A.value=!1},ae=e=>{C.value===e&&R(),o[e]=u[e]||""},ne=()=>{if(Object.keys(o).forEach(e=>delete o[e]),Object.assign(o,p),i.value){Object.assign(o,i.value);for(const e in v.value)o[e]=i.value[e]||u[e]||"";i.value.__KeyCodeList__&&(o.__KeyCodeList__=i.value.__KeyCodeList__)}K.success(l("changesReverted"),1)},oe=()=>{let e={};if(i.value){e={...i.value};for(const h in v.value)e[h]=o[h]}else{e={...u};for(const h in v.value)e[h]=o[h];u.__KeyCodeList__&&!e.__KeyCodeList__&&(e.__KeyCodeList__=u.__KeyCodeList__)}o.__KeyCodeList__&&(e.__KeyCodeList__=o.__KeyCodeList__);const s="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"	")),m=document.createElement("a");m.setAttribute("href",s),m.setAttribute("download","KeyBinds.json"),document.body.appendChild(m),m.click(),m.remove(),K.success(l("configSavedSuccess"),1)},re=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=s=>{var h;const m=(h=s.target.files)==null?void 0:h[0];if(m){const F=new FileReader;F.onload=b=>{var O;try{const G=(O=b.target)==null?void 0:O.result,S=JSON.parse(G);if(typeof S=="object"&&S!==null){i.value={...S};const I={};for(const E in u)E!=="__KeyCodeList__"&&(I[E]=S[E]||u[E]||"");Object.keys(o).forEach(E=>delete o[E]),Object.assign(o,I),S.__KeyCodeList__?o.__KeyCodeList__=S.__KeyCodeList__:u.__KeyCodeList__&&!o.__KeyCodeList__&&(o.__KeyCodeList__=u.__KeyCodeList__),Object.keys(p).forEach(E=>delete p[E]),Object.assign(p,o),K.success(l("uploadSuccess"),1)}else K.error(l("invalidFileFormat"))}catch(G){K.error(l("errorReadingFile")),console.error("Error reading or parsing file:",G)}},F.onerror=()=>{K.error(l("errorReadingFile"))},F.readAsText(m)}},e.click()},ie=()=>{i.value=null;const e={};for(const s in u)s!=="__KeyCodeList__"&&(e[s]=r[s]||u[s]||"");for(const s in r)s!=="__KeyCodeList__"&&(e[s]=r[s]);Object.keys(o).forEach(s=>delete o[s]),Object.assign(o,e),r.__KeyCodeList__?o.__KeyCodeList__=r.__KeyCodeList__:u.__KeyCodeList__&&(o.__KeyCodeList__=u.__KeyCodeList__),Object.keys(p).forEach(s=>delete p[s]),Object.assign(p,o)};return pe(()=>{window.addEventListener("keydown",H,!0),Object.keys(p).forEach(e=>delete p[e]),Object.assign(p,JSON.parse(JSON.stringify(u)))}),Ee(()=>{window.removeEventListener("keydown",H,!0)}),(e,s)=>{const m=f("a-config-provider"),h=f("a-typography-title"),F=f("a-typography-paragraph"),b=f("a-button"),O=f("a-space"),G=f("a-form-item"),S=f("a-divider"),I=f("a-input"),E=f("a-input-group"),se=f("a-col"),_e=f("a-row"),le=f("a-form"),ce=f("a-modal");return B(),j(V,null,[_(m,{theme:{token:{colorPrimary:"#aa6f42"},algorithm:e.$isDarkMode?c(W).darkAlgorithm:c(W).defaultAlgorithm,components:{}}},null,8,["theme"]),g("div",gt,[_(h,{level:2,class:"title"},{default:d(()=>[L(y(c(l)("title")),1)]),_:1}),_(h,{level:5},{default:d(()=>[L(y(c(l)("gameVersion",{version:c(a)})),1)]),_:1}),_(F,null,{default:d(()=>[g("span",{innerHTML:c(l)("instructions")},null,8,Gt)]),_:1}),_(le,{model:o,layout:"vertical"},{default:d(()=>[_(G,null,{default:d(()=>[_(O,{wrap:""},{default:d(()=>[_(b,{type:"primary",size:"large",onClick:oe},{icon:d(()=>[_(c(D))]),default:d(()=>[L(" "+y(c(l)("saveConfig")),1)]),_:1}),_(b,{size:"large",onClick:re},{icon:d(()=>[_(c(w))]),default:d(()=>[L(" "+y(c(l)("uploadKeybinds")),1)]),_:1}),_(b,{size:"large",onClick:ie},{icon:d(()=>[_(c(M))]),default:d(()=>[L(" "+y(c(l)("newDefaultKeybinds")),1)]),_:1}),_(b,{size:"large",onClick:ne},{icon:d(()=>[_(c(Y))]),default:d(()=>[L(" "+y(c(l)("revertChanges")),1)]),_:1})]),_:1})]),_:1}),_(S),_(_e,{gutter:[16,24]},{default:d(()=>[(B(!0),j(V,null,Ce(v.value,(x,T)=>(B(),ye(se,{key:T,xs:24,sm:12,md:8},{default:d(()=>[_(G,{label:N(T)},{default:d(()=>[_(E,{compact:"",style:{display:"flex"}},{default:d(()=>[_(I,{value:k(o[T]),placeholder:c(l)("restoreDefault"),"read-only":"",onClick:de=>te(T),class:Se([{"binding-active":C.value===T,"keybind-modified":ee(T)},"keybind-input"])},null,8,["value","placeholder","onClick","class"]),_(b,{onClick:Ke(de=>ae(T),["stop"]),title:c(l)("restoreDefault")},{icon:d(()=>[_(c(be))]),_:2},1032,["onClick","title"])]),_:2},1024)]),_:2},1032,["label"])]),_:2},1024))),128))]),_:1})]),_:1},8,["model"]),_(ce,{open:A.value,"onUpdate:open":s[0]||(s[0]=x=>A.value=x),title:c(l)("pressKeyPrompt"),closable:!1,footer:null,onCancel:R,centered:"",width:"300px"},{default:d(()=>[g("div",Lt,[g("p",null,y(c(l)("bindingNewKeyFor",{action:N(C.value)})),1),g("p",At,y(c(l)("pressAnyKey")),1),g("p",null,[g("small",null,y(c(l)("pressEscToCancel")),1)])])]),_:1},8,["open","title"])])],64)}}}),Nt=ge(vt,[["__scopeId","data-v-a41f6a31"]]);export{Nt as E};
